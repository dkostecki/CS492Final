var mboxCopyright="Copyright 1996-2013. Adobe Systems Incorporated. All rights reserved.",TNT=TNT||{};if(TNT.a=TNT.a||{},TNT.getGlobalMboxName=function(){return"target-global-mbox"},TNT.getGlobalMboxLocation=function(){return""},TNT.isAutoCreateGlobalMbox=function(){return !1},TNT.a.b=function(){var a={}.toString,b=window.targetPageParams,c="",d=[];if("undefined"!=typeof b&&"[object Function]"===a.call(b)){try{c=b()}catch(a){}if(c.length>0){d=c.split("&");for(var e=0;e<d.length;e++){d[e]=decodeURIComponent(d[e])}}}return d},mboxUrlBuilder=function(a,b){this.h=a,this.i=b,this.j=new Array,this.k=function(a){return a},this.m=null},mboxUrlBuilder.prototype.addNewParameter=function(a,b){return this.j.push({name:a,value:b}),this},mboxUrlBuilder.prototype.addParameterIfAbsent=function(a,b){if(b){for(var c=0;c<this.j.length;c++){var d=this.j[c];if(d.name===a){return this}}return this.checkInvalidCharacters(a),this.addNewParameter(a,b)}},mboxUrlBuilder.prototype.addParameter=function(a,b){this.checkInvalidCharacters(a);for(var c=0;c<this.j.length;c++){var d=this.j[c];if(d.name===a){return d.value=b,this}}return this.addNewParameter(a,b)},mboxUrlBuilder.prototype.addParameters=function(a){if(!a){return this}for(var b=0;b<a.length;b++){var c=a[b].indexOf("=");c!=-1&&0!=c&&this.addParameter(a[b].substring(0,c),a[b].substring(c+1,a[b].length))}return this},mboxUrlBuilder.prototype.setServerType=function(a){this.t=a},mboxUrlBuilder.prototype.setBasePath=function(a){this.m=a},mboxUrlBuilder.prototype.setUrlProcessAction=function(a){this.k=a},mboxUrlBuilder.prototype.buildUrl=function(){for(var a=this.m?this.m:"/m2/"+this.i+"/mbox/"+this.t,b="file:"==document.location.protocol?"http:":document.location.protocol,c=b+"//"+this.h+a,d=c.indexOf("?")!=-1?"&":"?",e=0;e<this.j.length;e++){var f=this.j[e];c+=d+encodeURIComponent(f.name)+"="+encodeURIComponent(f.value),d="&"}return this.y(this.k(c))},mboxUrlBuilder.prototype.getParameters=function(){return this.j},mboxUrlBuilder.prototype.setParameters=function(a){this.j=a},mboxUrlBuilder.prototype.clone=function(){var a=new mboxUrlBuilder(this.h,this.i);a.setServerType(this.t),a.setBasePath(this.m),a.setUrlProcessAction(this.k);for(var b=0;b<this.j.length;b++){a.addParameter(this.j[b].name,this.j[b].value)}return a},mboxUrlBuilder.prototype.y=function(a){return a.replace(/\"/g,"&quot;").replace(/>/g,"&gt;")},mboxUrlBuilder.prototype.checkInvalidCharacters=function(a){var b=new RegExp("('|\")");if(b.exec(a)){throw"Parameter '"+a+"' contains invalid characters"}},mboxStandardFetcher=function(){},mboxStandardFetcher.prototype.getType=function(){return"standard"},mboxStandardFetcher.prototype.fetch=function(a){a.setServerType(this.getType()),document.write('<script src="'+a.buildUrl()+'" language="JavaScript"><\/script>')},mboxStandardFetcher.prototype.cancel=function(){},mboxAjaxFetcher=function(){},mboxAjaxFetcher.prototype.getType=function(){return"ajax"},mboxAjaxFetcher.prototype.fetch=function(a){a.setServerType(this.getType());var b=a.buildUrl();this.D=document.createElement("script"),this.D.src=b,document.body.appendChild(this.D)},mboxAjaxFetcher.prototype.cancel=function(){},mboxMap=function(){this.E=new Object,this.F=new Array},mboxMap.prototype.put=function(a,b){this.E[a]||(this.F[this.F.length]=a),this.E[a]=b},mboxMap.prototype.get=function(a){return this.E[a]},mboxMap.prototype.remove=function(a){this.E[a]=void 0;for(var b=[],c=0;c<this.F.length;c++){this.F[c]!==a&&b.push(this.F[c])}this.F=b},mboxMap.prototype.each=function(a){for(var b=0;b<this.F.length;b++){var c=this.F[b],d=this.E[c];if(d){var e=a(c,d);if(e===!1){break}}}},mboxMap.prototype.isEmpty=function(){return 0===this.F.length},mboxFactory=function(a,b,c){this.L=!1,this.J=a,this.K=c,this.M=new mboxList,mboxFactories.put(c,this),this.N="undefined"!=typeof document.createElement("div").replaceChild&&function(){return !0}()&&"undefined"!=typeof document.getElementById&&"undefined"!=typeof(window.attachEvent||document.addEventListener||window.addEventListener)&&"undefined"!=typeof encodeURIComponent,this.O=this.N&&null==mboxGetPageParameter("mboxDisable");var d="default"==c;this.Q=new mboxCookieManager("mbox"+(d?"":"-"+c),function(){return mboxCookiePageDomain()}()),this.O=this.O&&this.Q.isEnabled()&&null==this.Q.getCookie("disable"),this.isAdmin()&&this.enable(),this.R(),this.S=mboxGenerateId(),this.T=mboxScreenHeight(),this.U=mboxScreenWidth(),this.V=mboxBrowserWidth(),this.W=mboxBrowserHeight(),this.X=mboxScreenColorDepth(),this.Y=mboxBrowserTimeOffset(),this.Z=new mboxSession(this.S,"mboxSession","session",1860,this.Q),this._=new mboxPC("PC",7776000,this.Q),this.C=new mboxUrlBuilder(a,b),this.ab(this.C,d),this.bb=(new Date).getTime(),this.cb=this.bb;var e=this;this.addOnLoad(function(){e.cb=(new Date).getTime()}),this.N&&(this.addOnLoad(function(){e.L=!0,e.getMboxes().each(function(a){a.setFetcher(new mboxAjaxFetcher),a.finalize()})}),this.O&&(this.limitTraffic(100,10368000),this.fb(),this.gb=new mboxSignaler(function(a,b){return e.create(a,b)},this.Q)))},mboxFactory.prototype.isEnabled=function(){return this.O},mboxFactory.prototype.getDisableReason=function(){return this.Q.getCookie("disable")},mboxFactory.prototype.isSupported=function(){return this.N},mboxFactory.prototype.disable=function(a,b){"undefined"==typeof a&&(a=3600),"undefined"==typeof b&&(b="unspecified"),this.isAdmin()||(this.O=!1,this.Q.setCookie("disable",b,a))},mboxFactory.prototype.enable=function(){this.O=!0,this.Q.deleteCookie("disable")},mboxFactory.prototype.isAdmin=function(){return document.location.href.indexOf("mboxEnv")!=-1},mboxFactory.prototype.limitTraffic=function(a,b){},mboxFactory.prototype.addOnLoad=function(a){if(this.isDomLoaded()){a()}else{var b=!1,c=function(){b||(b=!0,a())};this.ob.push(c),this.isDomLoaded()&&!b&&c()}},mboxFactory.prototype.getEllapsedTime=function(){return this.cb-this.bb},mboxFactory.prototype.getEllapsedTimeUntil=function(a){return a-this.bb},mboxFactory.prototype.getMboxes=function(){return this.M},mboxFactory.prototype.get=function(a,b){return this.M.get(a).getById(b||0)},mboxFactory.prototype.update=function(a,b){if(this.isEnabled()){if(!this.isDomLoaded()){var c=this;return void this.addOnLoad(function(){c.update(a,b)})}if(0==this.M.get(a).length()){throw"Mbox "+a+" is not defined"}this.M.get(a).each(function(c){c.getUrlBuilder().addParameter("mboxPage",mboxGenerateId()),mboxFactoryDefault.setVisitorIdParameters(c.getUrlBuilder(),a),c.load(b)})}},mboxFactory.prototype.setVisitorIdParameters=function(a,b){var c="A9893BC75245B1D70A490D4D@AdobeOrg";if("undefined"!=typeof Visitor&&0!=c.length){var d=Visitor.getInstance(c);if(d.isAllowed()){var e=function(b,c,e){if(d[c]){var g,f=function(c){c&&a.addParameter(b,c)};g="undefined"!=typeof e?d[c]("mbox:"+e):d[c](f),f(g)}};e("mboxMCGVID","getMarketingCloudVisitorID"),e("mboxMCGLH","getAudienceManagerLocationHint"),e("mboxAAMB","getAudienceManagerBlob"),e("mboxMCAVID","getAnalyticsVisitorID"),e("mboxMCSDID","getSupplementalDataID",b)}}},mboxFactory.prototype.create=function(a,b,c){if(!this.isSupported()){return null}var d=this.C.clone();d.addParameter("mboxCount",this.M.length()+1),d.addParameters(b),this.setVisitorIdParameters(d,a);var g,e=this.M.get(a).length(),f=this.K+"-"+a+"-"+e;if(c){g=new mboxLocatorNode(c)}else{if(this.L){throw"The page has already been loaded, can't write marker"}g=new mboxLocatorDefault(f)}try{var h=this,i="mboxImported-"+f,j=new mbox(a,e,d,g,i);this.O&&j.setFetcher(this.L?new mboxAjaxFetcher:new mboxStandardFetcher),j.setOnError(function(a,b){j.setMessage(a),j.activate(),j.isActivated()||h.disable(3600,a)}),this.M.add(j)}catch(b){throw this.disable(),'Failed creating mbox "'+a+'", the error was: '+b}var k=new Date;return d.addParameter("mboxTime",k.getTime()-60000*k.getTimezoneOffset()),j},mboxFactory.prototype.getCookieManager=function(){return this.Q},mboxFactory.prototype.getPageId=function(){return this.S},mboxFactory.prototype.getPCId=function(){return this._},mboxFactory.prototype.getSessionId=function(){return this.Z},mboxFactory.prototype.getSignaler=function(){return this.gb},mboxFactory.prototype.getUrlBuilder=function(){return this.C},mboxFactory.prototype.ab=function(a,b){a.addParameter("mboxHost",document.location.hostname).addParameter("mboxSession",this.Z.getId()),b||a.addParameter("mboxFactoryId",this.K),null!=this._.getId()&&a.addParameter("mboxPC",this._.getId()),a.addParameter("mboxPage",this.S),a.addParameter("screenHeight",this.T),a.addParameter("screenWidth",this.U),a.addParameter("browserWidth",this.V),a.addParameter("browserHeight",this.W),a.addParameter("browserTimeOffset",this.Y),a.addParameter("colorDepth",this.X),a.addParameter("mboxXDomain","enabled"),a.setUrlProcessAction(function(a){a+="&mboxURL="+encodeURIComponent(document.location);var b=encodeURIComponent(document.referrer);return a.length+b.length<2000&&(a+="&mboxReferrer="+b),a+="&mboxVersion="+mboxVersion})},mboxFactory.prototype.zb=function(){return""},mboxFactory.prototype.fb=function(){document.write("<style>.mboxDefault { visibility:hidden; }</style>")},mboxFactory.prototype.isDomLoaded=function(){return this.L},mboxFactory.prototype.R=function(){if(null==this.ob){this.ob=new Array;var a=this;!function(){var b=document.addEventListener?"DOMContentLoaded":"onreadystatechange",c=!1,d=function(){if(!c){c=!0;for(var b=0;b<a.ob.length;++b){a.ob[b]()}}};if(document.addEventListener){document.addEventListener(b,function(){document.removeEventListener(b,arguments.callee,!1),d()},!1),window.addEventListener("load",function(){document.removeEventListener("load",arguments.callee,!1),d()},!1)}else{if(document.attachEvent){if(self!==self.top){document.attachEvent(b,function(){"complete"===document.readyState&&(document.detachEvent(b,arguments.callee),d())})}else{var e=function(){try{document.documentElement.doScroll("left"),d()}catch(a){setTimeout(e,13)}};e()}}}"complete"===document.readyState&&d()}()}},mboxSignaler=function(a,b){this.Q=b;for(var c=b.getCookieNames("signal-"),d=0;d<c.length;d++){var e=c[d],f=b.getCookie(e).split("&"),g=a(f[0],f);g.load(),b.deleteCookie(e)}},mboxSignaler.prototype.signal=function(a,b){this.Q.setCookie("signal-"+a,mboxShiftArray(arguments).join("&"),2700)},mboxList=function(){this.M=new Array},mboxList.prototype.add=function(a){null!=a&&(this.M[this.M.length]=a)},mboxList.prototype.get=function(a){for(var b=new mboxList,c=0;c<this.M.length;c++){var d=this.M[c];d.getName()==a&&b.add(d)}return b},mboxList.prototype.getById=function(a){return this.M[a]},mboxList.prototype.length=function(){return this.M.length},mboxList.prototype.each=function(a){if("function"!=typeof a){throw"Action must be a function, was: "+typeof a}for(var b=0;b<this.M.length;b++){a(this.M[b])}},mboxList.prototype.findFirst=function(a){if("function"!=typeof a){throw"MatchingFunction must be a function, was: "+typeof a}for(var b=0;b<this.M.length;b++){if(a(this.M[b])){return this.M[b]}}},mboxLocatorDefault=function(a){this.n="mboxMarker-"+a,document.write('<div id="'+this.n+'" style="visibility:hidden;display:none">&nbsp;</div>')},mboxLocatorDefault.prototype.locate=function(){for(var a=document.getElementById(this.n);null!=a;){if(1==a.nodeType&&"mboxDefault"==a.className){return a}a=a.previousSibling}return null},mboxLocatorDefault.prototype.force=function(){var a=document.createElement("div");a.className="mboxDefault";var b=document.getElementById(this.n);return b.parentNode.insertBefore(a,b),a},mboxLocatorNode=function(a){this.Mb=a},mboxLocatorNode.prototype.locate=function(){return"string"==typeof this.Mb?document.getElementById(this.Mb):this.Mb},mboxLocatorNode.prototype.force=function(){return null},mboxCreate=function(a){var b=mboxFactoryDefault.create(a,mboxShiftArray(arguments));return b&&b.load(),b},mboxDefine=function(a,b){var c=mboxFactoryDefault.create(b,mboxShiftArray(mboxShiftArray(arguments)),a);return c},mboxUpdate=function(a){mboxFactoryDefault.update(a,mboxShiftArray(arguments))},mbox=function(a,b,c,d,e){this.Sb=null,this.Tb=0,this.tb=d,this.ub=e,this.Ub=null,this.Vb=new mboxOfferContent,this.Nb=null,this.C=c,this.message="",this.Wb=new Object,this.Xb=0,this.Qb=b,this.n=a,this.Yb(),c.addParameter("mbox",a).addParameter("mboxId",b),this.Zb=function(){},this._b=function(){},this.ac=null},mbox.prototype.getId=function(){return this.Qb},mbox.prototype.Yb=function(){if(this.n.length>250){throw"Mbox Name "+this.n+" exceeds max length of 250 characters."}if(this.n.match(/^\s+|\s+$/g)){throw"Mbox Name "+this.n+" has leading/trailing whitespace(s)."}},mbox.prototype.getName=function(){return this.n},mbox.prototype.getParameters=function(){for(var a=this.C.getParameters(),b=new Array,c=0;c<a.length;c++){0!=a[c].name.indexOf("mbox")&&(b[b.length]=a[c].name+"="+a[c].value)}return b},mbox.prototype.setOnLoad=function(a){return this._b=a,this},mbox.prototype.setMessage=function(a){return this.message=a,this},mbox.prototype.setOnError=function(a){return this.Zb=a,this},mbox.prototype.setFetcher=function(a){return this.Ub&&this.Ub.cancel(),this.Ub=a,this},mbox.prototype.getFetcher=function(){return this.Ub},mbox.prototype.load=function(a){if(null==this.Ub){return this}this.setEventTime("load.start"),this.cancelTimeout(),this.Tb=0;var b=a&&a.length>0?this.C.clone().addParameters(a):this.C;this.Ub.fetch(b);var c=this;return this.cc=setTimeout(function(){c.Zb("browser timeout",c.Ub.getType())},12000),this.setEventTime("load.end"),this},mbox.prototype.loaded=function(){if(this.cancelTimeout(),!this.activate()){var a=this;setTimeout(function(){a.loaded()},100)}},mbox.prototype.activate=function(){return this.Tb?this.Tb:(this.setEventTime("activate"+ ++this.Xb+".start"),this.show()&&(this.cancelTimeout(),this.Tb=1),this.setEventTime("activate"+this.Xb+".end"),this.Tb)},mbox.prototype.isActivated=function(){return this.Tb},mbox.prototype.setOffer=function(a){if(!(a&&a.show&&a.setOnLoad)){throw"Invalid offer"}return this.Vb=a,this},mbox.prototype.getOffer=function(){return this.Vb},mbox.prototype.show=function(){this.setEventTime("show.start");var a=this.Vb.show(this);return this.setEventTime(1==a?"show.end.ok":"show.end"),a},mbox.prototype.showContent=function(a){return null==a?0:null!=this.Nb&&this.Nb.parentNode||(this.Nb=this.getDefaultDiv(),null!=this.Nb)?(this.Nb!=a&&(this.ec(this.Nb),this.Nb.parentNode.replaceChild(a,this.Nb),this.Nb=a),this.fc(a),this._b(),1):0},mbox.prototype.hide=function(){this.setEventTime("hide.start");var a=this.showContent(this.getDefaultDiv());return this.setEventTime(1==a?"hide.end.ok":"hide.end.fail"),a},mbox.prototype.finalize=function(){this.setEventTime("finalize.start"),this.cancelTimeout(),null==this.getDefaultDiv()&&(null!=this.tb.force()?this.setMessage("No default content, an empty one has been added"):this.setMessage("Unable to locate mbox")),this.activate()||(this.hide(),this.setEventTime("finalize.end.hide")),this.setEventTime("finalize.end.ok")},mbox.prototype.cancelTimeout=function(){this.cc&&clearTimeout(this.cc),null!=this.Ub&&this.Ub.cancel()},mbox.prototype.getDiv=function(){return this.Nb},mbox.prototype.getDefaultDiv=function(){return null==this.ac&&(this.ac=this.tb.locate()),this.ac},mbox.prototype.setEventTime=function(a){this.Wb[a]=(new Date).getTime()},mbox.prototype.getEventTimes=function(){return this.Wb},mbox.prototype.getImportName=function(){return this.ub},mbox.prototype.getURL=function(){return this.C.buildUrl()},mbox.prototype.getUrlBuilder=function(){return this.C},mbox.prototype.hc=function(a){return"none"!=a.style.display},mbox.prototype.fc=function(a){this.ic(a,!0)},mbox.prototype.ec=function(a){this.ic(a,!1)},mbox.prototype.ic=function(a,b){a.style.visibility=b?"visible":"hidden",a.style.display=b?"block":"none"},mboxOfferContent=function(){this._b=function(){}},mboxOfferContent.prototype.show=function(a){var b=a.showContent(document.getElementById(a.getImportName()));return 1==b&&this._b(),b},mboxOfferContent.prototype.setOnLoad=function(a){this._b=a},mboxOfferAjax=function(a){this.dc=a,this._b=function(){}},mboxOfferAjax.prototype.setOnLoad=function(a){this._b=a},mboxOfferAjax.prototype.show=function(a){var b=document.createElement("div");b.id=a.getImportName(),b.innerHTML=this.dc;var c=a.showContent(b);return 1==c&&this._b(),c},mboxOfferDefault=function(){this._b=function(){}},mboxOfferDefault.prototype.setOnLoad=function(a){this._b=a},mboxOfferDefault.prototype.show=function(a){var b=a.hide();return 1==b&&this._b(),b},mboxCookieManager=function(b,c){this.n=b,this.lc=""==c||c.indexOf(".")==-1?"":"; domain="+c,this.mc=new mboxMap,this.loadCookies()},mboxCookieManager.prototype.isEnabled=function(){return this.setCookie("check","true",60),this.loadCookies(),"true"==this.getCookie("check")},mboxCookieManager.prototype.setCookie=function(a,b,c){if("undefined"!=typeof a&&"undefined"!=typeof b&&"undefined"!=typeof c){var d=new Object;d.name=a,d.value=escape(b),d.expireOn=Math.ceil(c+(new Date).getTime()/1000),this.mc.put(a,d),this.saveCookies()}},mboxCookieManager.prototype.getCookie=function(a){var b=this.mc.get(a);return b?unescape(b.value):null},mboxCookieManager.prototype.deleteCookie=function(a){this.mc.remove(a),this.saveCookies()},mboxCookieManager.prototype.getCookieNames=function(a){var b=new Array;return this.mc.each(function(c,d){0==c.indexOf(a)&&(b[b.length]=c)}),b},mboxCookieManager.prototype.saveCookies=function(){var a=!1,b="disable",c=new Array,d=0;this.mc.each(function(e,f){a&&e!==b||(c[c.length]=e+"#"+f.value+"#"+f.expireOn,d<f.expireOn&&(d=f.expireOn))});var e=new Date(1000*d);document.cookie=this.n+"="+c.join("|")+"; expires="+e.toGMTString()+"; path=/"+this.lc},mboxCookieManager.prototype.loadCookies=function(){this.mc=new mboxMap;var a=document.cookie.indexOf(this.n+"=");if(a!=-1){var b=document.cookie.indexOf(";",a);b==-1&&(b=document.cookie.indexOf(",",a),b==-1&&(b=document.cookie.length));for(var c=document.cookie.substring(a+this.n.length+1,b).split("|"),d=Math.ceil((new Date).getTime()/1000),e=0;e<c.length;e++){var f=c[e].split("#");if(d<=f[2]){var g=new Object;g.name=f[0],g.value=f[1],g.expireOn=f[2],this.mc.put(g.name,g)}}}},mboxSession=function(a,b,c,d,e){this.Bc=b,this.Hb=c,this.Cc=d,this.Q=e,this.Dc=!1,this.Qb="undefined"!=typeof mboxForceSessionId?mboxForceSessionId:mboxGetPageParameter(this.Bc),null!=this.Qb&&0!=this.Qb.length||(this.Qb=e.getCookie(c),null!=this.Qb&&0!=this.Qb.length||(this.Qb=a,this.Dc=!0)),e.setCookie(c,this.Qb,d)},mboxSession.prototype.getId=function(){return this.Qb},mboxSession.prototype.forceId=function(a){this.Qb=a,this.Q.setCookie(this.Hb,this.Qb,this.Cc)},mboxPC=function(a,b,c){this.Hb=a,this.Cc=b,this.Q=c,this.Qb="undefined"!=typeof mboxForcePCId?mboxForcePCId:c.getCookie(a),null!=this.Qb&&c.setCookie(a,this.Qb,b)},mboxPC.prototype.getId=function(){return this.Qb},mboxPC.prototype.forceId=function(a){return this.Qb!=a&&(this.Qb=a,this.Q.setCookie(this.Hb,this.Qb,this.Cc),!0)},mboxGetPageParameter=function(a){var b=null,c=new RegExp(a+"=([^&]*)"),d=c.exec(document.location);return null!=d&&d.length>=2&&(b=d[1]),b},mboxSetCookie=function(a,b,c){return mboxFactoryDefault.getCookieManager().setCookie(a,b,c)},mboxGetCookie=function(a){return mboxFactoryDefault.getCookieManager().getCookie(a)},mboxCookiePageDomain=function(){var a=/([^:]*)(:[0-9]{0,5})?/.exec(document.location.host)[1],b=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/;if(!b.exec(a)){var c=/([^\.]+\.[^\.]{3}|[^\.]+\.[^\.]+\.[^\.]{2})$/.exec(a);c&&(a=c[0])}return a?a:""},mboxShiftArray=function(a){for(var b=new Array,c=1;c<a.length;c++){b[b.length]=a[c]}return b},mboxGenerateId=function(){return(new Date).getTime()+"-"+Math.floor(999999*Math.random())},mboxScreenHeight=function(){return screen.height},mboxScreenWidth=function(){return screen.width},mboxBrowserWidth=function(){return window.innerWidth?window.innerWidth:document.documentElement?document.documentElement.clientWidth:document.body.clientWidth},mboxBrowserHeight=function(){return window.innerHeight?window.innerHeight:document.documentElement?document.documentElement.clientHeight:document.body.clientHeight},mboxBrowserTimeOffset=function(){return -(new Date).getTimezoneOffset()},mboxScreenColorDepth=function(){return screen.pixelDepth},"undefined"==typeof mboxVersion){var mboxVersion=48,mboxFactories=new mboxMap,mboxFactoryDefault=new mboxFactory("bankofamerica.tt.omtrdc.net","bankofamerica","default")}null==mboxGetPageParameter("mboxDebug")&&null==mboxFactoryDefault.getCookieManager().getCookie("debug")||(setTimeout(function(){"undefined"==typeof mboxDebugLoaded&&alert("Could not load the remote debug.\nPlease check your connection to Test&amp;Target servers")},3600),document.write('<script language="Javascript1.2" src="http://admin16.testandtarget.omniture.com/admin/mbox/mbox_debug.jsp?mboxServerHost=bankofamerica.tt.omtrdc.net&amp;clientCode=bankofamerica"><\/script>')),mboxVizTargetUrl=function(a){if(mboxFactoryDefault.isEnabled()){var b=mboxFactoryDefault.getUrlBuilder().clone();b.setBasePath("/m2/bankofamerica/viztarget"),b.addParameter("mbox",a),b.addParameter("mboxId",0),b.addParameter("mboxCount",mboxFactoryDefault.getMboxes().length()+1);var c=new Date;b.addParameter("mboxTime",c.getTime()-60000*c.getTimezoneOffset()),b.addParameter("mboxPage",mboxGenerateId());var d=mboxShiftArray(arguments);return d&&d.length>0&&b.addParameters(d),b.addParameter("mboxDOMLoaded",mboxFactoryDefault.isDomLoaded()),mboxFactoryDefault.setVisitorIdParameters(b,a),b.buildUrl()}},TNT.createGlobalMbox=function(){var d,a="target-global-mbox",b=0==="".length,c="";b&&(c="mbox-"+a+"-"+mboxGenerateId(),d=document.createElement("div"),d.className="mboxDefault",d.id=c,d.style.visibility="hidden",d.style.display="none",mboxFactoryDefault.addOnLoad(function(){document.body.insertBefore(d,document.body.firstChild)}));var e=mboxFactoryDefault.create(a,TNT.a.b(),c);null!=e&&e.load()};var xCr=mboxCreate,mboxCreate=function(){var a=Array.prototype.slice.call(arguments);a.join("&").indexOf("&ubox=")!=-1?uboxCreate.apply({},a):xCr.apply({},a)},uboxCreate=function(a){var b=Array.prototype.slice.call(arguments,1);if(null==mboxFactoryDefault.getPCId().getId()){uboxCreate.triedToEstablishPCID||(uboxCreate.triedToEstablishPCID=!0,mboxDefine("mboxId"+Math.ceil(999999*Math.random()),"PCID_null"),mboxUpdate("PCID_null")),b.splice(0,0,a),setTimeout(function(){uboxCreate.apply({},b)},300)}else{var c=document.createElement("script");c.type="text/javascript",c.src="//bankofamerica.tt.omtrdc.net/m2/bankofamerica/ubox/raw?mbox="+a+(b.length>0?"&"+b.join("&"):"")+"&mboxXDomain=disabled&mboxContentType=text%2Fjavascript&mboxURL="+escape(location.toString())+"&mboxSession="+mboxFactoryDefault.getSessionId().getId()+"&mboxPC="+mboxFactoryDefault.getPCId().getId()+"&mboxHost="+location.hostname+"&mboxDefault="+encodeURIComponent(window.location.protocol)+"%2F%2Fwww.bankofamerica.com%2Fpa%2Fglobal-assets%2F1.0%2Fgraphic%2Fblank.gif";var d=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0];d&&d.appendChild(c),(div=document.getElementById(a))&&(div.style.visibility="visible")}};uboxCreate.triedToEstablishPCID=!1,mboxFactory.prototype.setDomLoaded=function(a){"undefined"==typeof a?this._pageLoaded=!0:this._pageLoaded=1==a},"undefined"!=typeof mboxKill&&mboxKill===!0&&mboxFactoryDefault.disable(3600);var EmbedVideoPlayerUtil={config:{width:"560",height:"315",bgcolor:"#000",playerKey:"AQ~~,AAAABUmiWYk~,cCKnzuOBJDjbhfilL6H_MUuDQWw7B4-s",playerID:"3189288757001",playBtnTxt:"Play video",seekBtnTxt:"Control ALT N to seek forward and Control ALT M to seek backward",captionMenuTxt:"Closed caption menu. To move through items press tab.",captionMenuOffTxt:"Off",captionMenuEnglishTxt:"English",volumeBtnTxt:"Mute Video Press Space Bar to activate or, Control ALT N to increase volume and Control ALT M to decrease volume",cmPageId:"",videoAutoPlay:false},$overlays:$(),init:function(config){this.config=$.extend(this.config,config);this.structure._build();this.BrightCovePlayer._embed();this.overlays._build()},structure:{_build:function(){var config=EmbedVideoPlayerUtil.config,$video=$("#"+config.wrapperId),wrapper="bofaVideo",overlays="overlays";if(!$video.parent().hasClass(wrapper)){var $wrap=$('<div class="'+wrapper+'"></div>').insertBefore($video);$video.find("."+overlays).appendTo($wrap);$wrap.prepend($video.clone(true).empty());$video.removeAttr("id").addClass("hide")}}},events:{ready:function(){$(document).trigger("refresh")}},overlays:{_show:function(e){var time=parseFloat($(e.target).attr("data-current-time"));$overlays.each(function(){var $o=$(this),start=$o.data("start-time"),end=$o.data("end-time");if(start>end&&end>0){start=end;end=$o.data("start-time")}if(time>=start&&(time<=end||end===0)){$o.show().focus()}else{$o.hide()}})},_build:function(){var config=EmbedVideoPlayerUtil.config,$container=$("#"+config.wrapperId),$overlayContainer=$container.siblings(".overlays");$overlays=$overlayContainer.children();$overlays.each(function(){var $item=$(this);if($item.data("top")){$item.css({top:$item.data("top")+"px",bottom:"auto"})}if($item.data("left")){$item.css({left:$item.data("left")+"px",right:"auto"})}if($item.data("width")){$item.css({width:$item.data("width")+"px"})}if($item.data("height")){$item.css({height:$item.data("height")+"px"})}$item.addClass("overlay").appendTo($container)});$("#"+EmbedVideoPlayerUtil.config.wrapperId).parent().bind("PROGRESS",EmbedVideoPlayerUtil.overlays._show);$overlayContainer.remove()}},BrightCovePlayer:{player:"",videoPlayer:"",videoExperience:"",isHTML5:false,_embed:function(){this._loadPlayer()},_loadPlayer:function(){EmbedVideoPlayerUtil.BrightCovePlayer.isHTML5=false;var c=EmbedVideoPlayerUtil.config,secure=(window.location.protocol==="https://www.bankofamerica.com/mobile/banking.go"),bcServer="//"+(secure?"s":"")+"admin.brightcove.com",parameters=' <param name="bgcolor" value="'+c.bgcolor+'" /> <param name="width" value="'+c.width+'" /> <param name="height" value="'+c.height+'" /> <param name="allowScriptAccess" value="always" /> <param name="allowFullScreen" value="'+c.allowFullScreen+'" /> <param name="wmode" value="transparent" /> <param name="isVid" value="true" /> <param name="isUI" value="true" /> <param name="dynamicStreaming" value="true" /> <param name="@videoPlayer" value="'+c.videoSrc+'" /> <param name="secureConnections" value="'+secure+'" /> <param name="secureHTMLConnections" value="'+secure+'" /> <param name="playerID" value="'+c.playerID+'" /> <param name="playerKey" value="'+c.playerKey+'" /> <param name="includeAPI" value="true" /> <param name="templateLoadHandler" value="EmbedVideoPlayerUtil.BrightCovePlayer.onTemplateLoad" /> <param name="templateReadyHandler" value="EmbedVideoPlayerUtil.BrightCovePlayer.onTemplateReady" />',html='<div class="video"><object id="bofaVideoExperience" class="BrightcoveExperience" title="HTML5 video player">'+parameters+"</object></div>";$("#"+c.wrapperId).css({width:c.width,height:c.height}).html(html);var url=bcServer+"/js/BrightcoveExperiences_all.js";if(EmbedVideoPlayerUtil.BrightCovePlayer.isHTML5){url=bcServer+"/js/BrightcoveExperiences.js"}$.ajax({url:url,dataType:"script",success:function(){if($.isPlainObject(brightcove)){brightcove.createExperiences()}},error:function(){EmbedVideoPlayerUtil.events.ready()}})}}};EmbedVideoPlayerUtil.BrightCovePlayer.videoSeekCounter=0;EmbedVideoPlayerUtil.BrightCovePlayer.seekBarLength="";EmbedVideoPlayerUtil.BrightCovePlayer.videoDuration="";EmbedVideoPlayerUtil.BrightCovePlayer.videoCaption="";EmbedVideoPlayerUtil.BrightCovePlayer.appendControls=function(){var c=EmbedVideoPlayerUtil.config,bar='<div class="video-control-bar" style="width:'+c.width+'px"><ul><li><button id="playButton" class="video-control play-button"><span class="ada-hidden">'+c.playBtnTxt+'</span></button></li><li class="progress-control" style="width:'+(c.width-210)+'px"><button id="videoSeekButton" class="video-control video-seek-handle"><span class="ada-hidden">'+c.seekBtnTxt+'</span></button><div aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" tabindex="-1" class="progress-wrapper" aria-label="Progress"><div class="video-play-progress"><span class="ada-hidden">Progress: 0%</span></div></div></li><li class="video-control control-text"><span class="video-playing-time">00:00</span><span class="time-divider">/</span><span class="video-duration-time"></span></li><li><button class="video-control video-caption"><span class="ada-hidden">'+c.captionMenuTxt+'</span></button><ul class="caption-menu"><li class="caption-menu-title">Captions</li><li class="caption-menu-item"><a href="javascript:void(0)" name="ancbrightcoveCaptionOffBtn" id="captionOffBtn"><span class="ada-hidden">Caption </span>'+c.captionMenuOffTxt+'</a></li><li class="caption-menu-item"><a href="javascript:void(0)" name="ancbrightcoveCaptionEnglishBtn" id="captionEnglishBtn"><span class="ada-hidden">Caption </span>'+c.captionMenuEnglishTxt+'</a></li></ul></li><li><button id="volumeBtn" class="video-control voulme-button"><span class="ada-hidden">'+EmbedVideoPlayerUtil.config.volumeBtnTxt+'</span></button><div aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" class="volume-bar" aria-label="Volume"><div class="volume-level"><span class="control-text"></span></div><div class="volume-handle"><span class="control-text"></span></div></div><div class="volume-bar-fill"></div></li></ul><div class="clearboth"></div></div>',$bar=$(bar);$("#"+EmbedVideoPlayerUtil.config.wrapperId).after($bar);setTimeout(function(){$bar.addClass("open")},800);setTimeout(function(){$bar.addClass("overflow")},1500);EmbedVideoPlayerUtil.BrightCovePlayer.appendTranscript();if(!$("html").hasClass("platform-handheld")&&!$("html").hasClass("platform-tablet")){EmbedVideoPlayerUtil.BrightCovePlayer.setVideoTime();EmbedVideoPlayerUtil.BrightCovePlayer.bindEvents()}};EmbedVideoPlayerUtil.BrightCovePlayer.appendTranscript=function(){if(typeof EmbedVideoPlayerUtil.config.transcriptUrl!="undefined"&&EmbedVideoPlayerUtil.config.transcriptUrl.length>0){$.get(EmbedVideoPlayerUtil.config.transcriptUrl,function(data){var $transcript=$('<div class="transcript"><div class="transcript-inner"><div class="transcript-content">'+data+"</div></div></div>");$("#"+EmbedVideoPlayerUtil.config.wrapperId).parent().find(".transcript").remove();$("#"+EmbedVideoPlayerUtil.config.wrapperId).parent().append($transcript);if($("html").hasClass("platform-handheld")||$("html").hasClass("platform-tablet")){$('a[rel="external"],a[rel="internal"]').on("click",function(e){e.preventDefault();var boaModalDialogData={target:".mw-modm-ds.leaving",buffer:16,animation:"left",callbacks:{}};var href=$(this).attr("href");$(".yes",boaModalDialogData.target).on("click",function(e){window.location.href=href});boaModalDialogData.callbacks.contract=mw.modules.modal.removeRel;boaModalDialogData.anchor=$(this);var modal1=mw.modules.modal.init(boaModalDialogData)})}$("#"+EmbedVideoPlayerUtil.config.wrapperId).trigger("transcriptReady",[$transcript])})}};EmbedVideoPlayerUtil.BrightCovePlayer.bindEvents=function(){var CONTEXT=$("#"+EmbedVideoPlayerUtil.config.wrapperId).parent();EmbedVideoPlayerUtil.BrightCovePlayer.playButton=$(".video-control-bar #playButton",CONTEXT);EmbedVideoPlayerUtil.BrightCovePlayer.volumeButton=$(".video-control-bar #volumeBtn",CONTEXT);EmbedVideoPlayerUtil.BrightCovePlayer.ccButton=$(".video-control-bar .caption-menu",CONTEXT);EmbedVideoPlayerUtil.BrightCovePlayer.videoCaption=$(".video-control-bar .video-caption",CONTEXT);EmbedVideoPlayerUtil.BrightCovePlayer.seekButton=$(".video-control-bar #videoSeekButton",CONTEXT);EmbedVideoPlayerUtil.BrightCovePlayer.mediaControlBar=$(".video-control-bar",CONTEXT);EmbedVideoPlayerUtil.BrightCovePlayer.videoPlayProgress=$(".video-control-bar .video-play-progress span.ada-hidden",CONTEXT);EmbedVideoPlayerUtil.BrightCovePlayer.progressWrapper=$(".video-control-bar .progress-wrapper",CONTEXT);EmbedVideoPlayerUtil.BrightCovePlayer.videoTimer=$(".video-control-bar .video-playing-time",CONTEXT);EmbedVideoPlayerUtil.BrightCovePlayer.volumeBar=$(".video-control-bar .volume-bar",CONTEXT);EmbedVideoPlayerUtil.BrightCovePlayer.volumeBarFill=$(".video-control-bar .volume-bar-fill",CONTEXT);EmbedVideoPlayerUtil.BrightCovePlayer.playButton.click(function(e){var isPlaying=EmbedVideoPlayerUtil.BrightCovePlayer.videoPlayer.isPlaying();if(isPlaying){EmbedVideoPlayerUtil.BrightCovePlayer.pauseVideo()}else{EmbedVideoPlayerUtil.BrightCovePlayer.playVideo()}});EmbedVideoPlayerUtil.BrightCovePlayer.volumeButton.click(function(e){var videoPlayer=EmbedVideoPlayerUtil.BrightCovePlayer.videoPlayer;var $this=$(this);if(!videoPlayer.getVolume()){EmbedVideoPlayerUtil.BrightCovePlayer.unMute(true);$this.removeClass("muted");$this.find("span.ada-hidden").html("Mute Video Press Space Bar to activate or, Control ALT N to increase volume and Control ALT M to decrease volume")}else{EmbedVideoPlayerUtil.BrightCovePlayer.mute();$this.addClass("muted");$this.find("span.ada-hidden").html("UnMute Video Press Space Bar to activate or, Control ALT N to increase volume and Control ALT M to decrease volume")}}).keydown(function(e){var KEY_LEFT=37;var KEY_RIGHT=39;var KEY_N=78;var KEY_M=77;var volumeLevel=EmbedVideoPlayerUtil.BrightCovePlayer.videoPlayer.getVolume();volumeLevel=parseFloat(volumeLevel.toFixed(3));if(e.keyCode===KEY_RIGHT||(e.ctrlKey&&e.altKey&&e.which===KEY_N)){EmbedVideoPlayerUtil.BrightCovePlayer.videoPlayer.setVolume(volumeLevel+0.01);e.preventDefault();e.stopPropagation();return false}else{if(e.keyCode===KEY_LEFT||(e.ctrlKey&&e.altKey&&e.which===KEY_M)){EmbedVideoPlayerUtil.BrightCovePlayer.videoPlayer.setVolume(volumeLevel-0.01);e.preventDefault();e.stopPropagation();return false}}}).focus(function(){EmbedVideoPlayerUtil.BrightCovePlayer.ccButton.hide()});EmbedVideoPlayerUtil.BrightCovePlayer.seekButton.keydown(function(e){var $this=$(this);var videoPlayer=EmbedVideoPlayerUtil.BrightCovePlayer.videoPlayer;var KEY_LEFT=37;var KEY_RIGHT=39;var KEY_N=78;var KEY_M=77;var isPlaying=true;if((isPlaying&&e.keyCode===KEY_RIGHT)||(e.ctrlKey&&e.altKey&&e.which===KEY_N)){videoPlayer.pause(true);videoPlayer.removeEventListener(BCMediaEvent.PROGRESS,EmbedVideoPlayerUtil.BrightCovePlayer.onMediaProgress);var seekBarPos=EmbedVideoPlayerUtil.BrightCovePlayer.videoSeekCounter++>EmbedVideoPlayerUtil.BrightCovePlayer.seekBarLength?EmbedVideoPlayerUtil.BrightCovePlayer.seekBarLength:EmbedVideoPlayerUtil.BrightCovePlayer.videoSeekCounter;$this.css("left",seekBarPos+"px")}else{if((isPlaying&&e.keyCode===KEY_LEFT)||(e.ctrlKey&&e.altKey&&e.which===KEY_M)){videoPlayer.pause(true);videoPlayer.removeEventListener(BCMediaEvent.PROGRESS,EmbedVideoPlayerUtil.BrightCovePlayer.onMediaProgress);var seekBarPos=EmbedVideoPlayerUtil.BrightCovePlayer.videoSeekCounter--<0?0:EmbedVideoPlayerUtil.BrightCovePlayer.videoSeekCounter;$this.css("left",seekBarPos+"px")}}}).keyup(function(e){EmbedVideoPlayerUtil.BrightCovePlayer.seekVideo()}).focus(function(){EmbedVideoPlayerUtil.BrightCovePlayer.ccButton.hide()});$(".video-control-bar .progress-control",CONTEXT).click(function(e){EmbedVideoPlayerUtil.BrightCovePlayer.videoPlayer.pause(true);EmbedVideoPlayerUtil.BrightCovePlayer.videoPlayer.removeEventListener(BCMediaEvent.PROGRESS,EmbedVideoPlayerUtil.BrightCovePlayer.onMediaProgress);var delta=parseInt((e.pageX-$(this).offset().left),10);EmbedVideoPlayerUtil.BrightCovePlayer.seekButton.css("left",delta+"px");EmbedVideoPlayerUtil.BrightCovePlayer.videoSeekCounter=delta;EmbedVideoPlayerUtil.BrightCovePlayer.seekVideo();EmbedVideoPlayerUtil.BrightCovePlayer.videoPlayer.play();EmbedVideoPlayerUtil.BrightCovePlayer.videoPlayer.addEventListener(BCMediaEvent.PROGRESS,EmbedVideoPlayerUtil.BrightCovePlayer.onMediaProgress)});$(".video-control-bar .volume-bar,.video-control-bar .volume-bar-fill",CONTEXT).click(function(e){var $this=$(this);$this=$this.hasClass(".volume-bar")?$this:$(".video-control-bar .volume-bar",CONTEXT);var volumeBarWidth=$this.width();var delta=e.pageX-parseInt(($this.offset().left),10);var volumeLevel=delta/volumeBarWidth;volumeLevel=volumeLevel<0?0:(volumeLevel>1?1:volumeLevel);volumeLevel-=0.06;EmbedVideoPlayerUtil.BrightCovePlayer.videoPlayer.setVolume(volumeLevel)}).focus(function(){EmbedVideoPlayerUtil.BrightCovePlayer.ccButton.hide()});EmbedVideoPlayerUtil.BrightCovePlayer.ccButton.bind("mouseout",function(){var $this=$(this);if($this.hasClass("hover")){$this.removeClass("hover").hide()}}).bind("click mouseover focus",function(){$(this).addClass("hover").show()});EmbedVideoPlayerUtil.BrightCovePlayer.videoCaption.bind("mouseout",function(){EmbedVideoPlayerUtil.BrightCovePlayer.ccButton.removeClass("hover").hide()}).bind("click mouseover focus",function(){EmbedVideoPlayerUtil.BrightCovePlayer.ccButton.addClass("hover").show()});$(".video-control-bar #captionEnglishBtn",CONTEXT).click(function(){EmbedVideoPlayerUtil.BrightCovePlayer.showDefaultCaption(true)});$(".video-control-bar #captionOffBtn",CONTEXT).click(function(){EmbedVideoPlayerUtil.BrightCovePlayer.showDefaultCaption(false)})};EmbedVideoPlayerUtil.BrightCovePlayer.setVideoTime=function(){var videoDuration=EmbedVideoPlayerUtil.BrightCovePlayer.videoPlayer.getVideoDuration(function(){});EmbedVideoPlayerUtil.BrightCovePlayer.videoDuration=EmbedVideoPlayerUtil.BrightCovePlayer.formatTime(videoDuration);$(".video-control-bar .video-duration-time").text(EmbedVideoPlayerUtil.BrightCovePlayer.videoDuration)};EmbedVideoPlayerUtil.BrightCovePlayer.fillVolumeBar=function(){var $volumeBar=EmbedVideoPlayerUtil.BrightCovePlayer.volumeBar;if(typeof $volumeBar!=="undefined"){var volumeLevel=EmbedVideoPlayerUtil.BrightCovePlayer.videoPlayer.getVolume();var volumeBarHeight=$volumeBar.width();EmbedVideoPlayerUtil.BrightCovePlayer.volumeBarFill.width(volumeBarHeight*volumeLevel);$volumeBar.attr("aria-valuenow",Math.round(volumeLevel*100))}};EmbedVideoPlayerUtil.BrightCovePlayer.playVideo=function(){if(this.videoPlayer){EmbedVideoPlayerUtil.triggerCMManualLnkClickTag("playVideoVid"+EmbedVideoPlayerUtil.config.playerID);this.videoPlayer.play()}};EmbedVideoPlayerUtil.BrightCovePlayer.pauseVideo=function(){if(this.videoPlayer){EmbedVideoPlayerUtil.triggerCMManualLnkClickTag("pauseVideoVid"+EmbedVideoPlayerUtil.config.playerID);this.videoPlayer.pause(true)}};EmbedVideoPlayerUtil.BrightCovePlayer.formatTime=function(time){if(typeof time==="number"){var min=parseInt((Math.floor(time)/60),10);var sec=parseInt((Math.ceil(time)%60),10);if(min/10<1){min="0"+min}if(sec/10<1){sec="0"+sec}return min+":"+sec}};EmbedVideoPlayerUtil.BrightCovePlayer.seekVideo=function(){var videoPlayer=EmbedVideoPlayerUtil.BrightCovePlayer.videoPlayer,videoDuration=EmbedVideoPlayerUtil.BrightCovePlayer.videoPlayer.getVideoDuration(function(){}),seekBarPercentage=EmbedVideoPlayerUtil.BrightCovePlayer.videoSeekCounter/EmbedVideoPlayerUtil.BrightCovePlayer.seekBarLength,seekTime=videoDuration*seekBarPercentage;if(seekTime>0){videoPlayer.seek(seekTime);videoPlayer.play();videoPlayer.addEventListener(BCMediaEvent.PROGRESS,EmbedVideoPlayerUtil.BrightCovePlayer.onMediaProgress)}};EmbedVideoPlayerUtil.BrightCovePlayer.onVolumeChange=function(volumeLevel){EmbedVideoPlayerUtil.BrightCovePlayer.fillVolumeBar()};EmbedVideoPlayerUtil.BrightCovePlayer.mute=function(){EmbedVideoPlayerUtil.BrightCovePlayer.videoPlayer.setVolume(0);EmbedVideoPlayerUtil.BrightCovePlayer.fillVolumeBar();EmbedVideoPlayerUtil.triggerCMManualLnkClickTag("muteVideoVid"+EmbedVideoPlayerUtil.config.playerID)};EmbedVideoPlayerUtil.BrightCovePlayer.unMute=function(arg){EmbedVideoPlayerUtil.BrightCovePlayer.videoPlayer.setVolume(0.5);EmbedVideoPlayerUtil.BrightCovePlayer.fillVolumeBar();if(arg){EmbedVideoPlayerUtil.triggerCMManualLnkClickTag("unMuteVideoVid"+EmbedVideoPlayerUtil.config.playerID)}};EmbedVideoPlayerUtil.BrightCovePlayer.onMediaBegin=function(e){if(typeof cX==="function"){cX("onload")}};EmbedVideoPlayerUtil.BrightCovePlayer.showDefaultCaption=function(flag){EmbedVideoPlayerUtil.BrightCovePlayer.videoCaption.setLanguage("English");EmbedVideoPlayerUtil.BrightCovePlayer.videoCaption.setCaptionsEnabled(flag)};EmbedVideoPlayerUtil.BrightCovePlayer.onMediaProgress=function(e){var mediaControlBar=EmbedVideoPlayerUtil.BrightCovePlayer.mediaControlBar;var currentPosition=e.position;var videoDuration=e.duration;var videoPercentage=(currentPosition/videoDuration);var videoPlayingPer=parseFloat((videoPercentage*100),10);var seekBarPosition=parseInt((10*EmbedVideoPlayerUtil.BrightCovePlayer.seekBarLength*videoPercentage),10)/10;EmbedVideoPlayerUtil.BrightCovePlayer.videoPlayProgress.html("Progress :"+videoPlayingPer+"%");EmbedVideoPlayerUtil.BrightCovePlayer.progressWrapper.attr("aria-valuenow",videoPlayingPer);EmbedVideoPlayerUtil.BrightCovePlayer.videoSeekCounter=seekBarPosition;EmbedVideoPlayerUtil.BrightCovePlayer.seekButton.css("left",seekBarPosition);EmbedVideoPlayerUtil.BrightCovePlayer.videoTimer.html(EmbedVideoPlayerUtil.BrightCovePlayer.formatTime(currentPosition));if(videoPlayingPer>24&&videoPlayingPer<29&&typeof mediaControlBar.data("watch25")==="undefined"){EmbedVideoPlayerUtil.triggerCMManualLnkClickTag("watch25Vid"+EmbedVideoPlayerUtil.config.playerID);mediaControlBar.data("watch25",true)}else{if(videoPlayingPer>49&&videoPlayingPer<54&&typeof mediaControlBar.data("watch50")==="undefined"){EmbedVideoPlayerUtil.triggerCMManualLnkClickTag("watch50Vid"+EmbedVideoPlayerUtil.config.playerID);mediaControlBar.data("watch50",true)}else{if(videoPlayingPer>74&&videoPlayingPer<79&&typeof mediaControlBar.data("watch75")==="undefined"){EmbedVideoPlayerUtil.triggerCMManualLnkClickTag("watch75Vid"+EmbedVideoPlayerUtil.config.playerID);mediaControlBar.data("watch75",true)}}}$("#"+EmbedVideoPlayerUtil.config.wrapperId).parent().attr("data-current-time",e.position).trigger("PROGRESS")};EmbedVideoPlayerUtil.BrightCovePlayer.onVideoPlay=function(e){var $this=EmbedVideoPlayerUtil.BrightCovePlayer.playButton;$this.addClass("pause-button");$this.removeClass("play-button");$this.find("span.ada-hidden").html("Pause Video")};EmbedVideoPlayerUtil.BrightCovePlayer.onVideoStop=function(e){var $this=EmbedVideoPlayerUtil.BrightCovePlayer.playButton;$this.addClass("play-button");$this.removeClass("pause-button");if(e.position>=e.duration){$this.find("span.ada-hidden").html("Replay Video")}else{$this.find("span.ada-hidden").html("Play Video")}};EmbedVideoPlayerUtil.BrightCovePlayer.onVideoFinish=function(e){EmbedVideoPlayerUtil.BrightCovePlayer.playButton.addClass("play-button").removeClass("pause-button").find("span.ada-hidden").html("Replay video");EmbedVideoPlayerUtil.triggerCMManualLnkClickTag("watch100Vid"+EmbedVideoPlayerUtil.config.playerID);EmbedVideoPlayerUtil.BrightCovePlayer.mediaControlBar.removeData()};EmbedVideoPlayerUtil.BrightCovePlayer.onSendEmailClick=function(e){EmbedVideoPlayerUtil.triggerCMManualLnkClickTag("sendEmailVid"+EmbedVideoPlayerUtil.config.playerID)};EmbedVideoPlayerUtil.triggerCMManualLnkClickTag=function(uniquenameval){if(typeof cmCreateManualLinkClickTag==="function"){cmCreateManualLinkClickTag("javascript:void();",uniquenameval,EmbedVideoPlayerUtil.config.cmPageId)}};EmbedVideoPlayerUtil.BrightCovePlayer.autoSeek=function(){var seek=typeof boaGetUrlParam==="function"?boaGetUrlParam("seek"):null,seekTime=0,seekVideo="",videoPlayer=this.videoPlayer,config=EmbedVideoPlayerUtil.config,seekToRestartPoint=function(e){videoPlayer.removeEventListener(BCMediaEvent.PROGRESS,seekToRestartPoint);videoPlayer.seek(seekTime);videoPlayer.play();videoPlayer.addEventListener(BCMediaEvent.PROGRESS,EmbedVideoPlayerUtil.BrightCovePlayer.onMediaProgress)};if(seek===null){return}if(seek.indexOf("|")>0){seek=seek.split("|");seekTime=parseFloat(seek[0]);seekVideo=seek[1]}else{seekTime=parseFloat(seek)}if(typeof seekTime==="number"&&!isNaN(seekTime)&&seekTime>0&&(config.wrapperId===seekVideo||seekVideo==="")){videoPlayer.addEventListener(BCMediaEvent.PROGRESS,seekToRestartPoint);videoPlayer.play()}};EmbedVideoPlayerUtil.BrightCovePlayer.selectRendition=function(context){var renditions=context.renditions,size=0,smallIndex=-1,smallSize=Number.MAX_VALUE,largeIndex=-1,largeSize=0;for(var i=0;i<renditions.length;i++){size=renditions[i].size;if(renditions[i].size<smallSize){smallSize=size;smallIndex=i}if(renditions[i].size>largeSize){largeSize=size;largeIndex=i}}return smallIndex};EmbedVideoPlayerUtil.BrightCovePlayer.onTemplateLoad=function(id){$("#"+id).attr({tabindex:-1,title:"Flash video component",name:"brightcoveobjecttag"});$("#_container"+id).attr({tabindex:-1,name:"spanbrightcovewrapper"});EmbedVideoPlayerUtil.BrightCovePlayer.player=brightcove.getExperience(id);if(!!EmbedVideoPlayerUtil.config.resolution&&EmbedVideoPlayerUtil.config.resolution==="low"){var videoPlayer=EmbedVideoPlayerUtil.BrightCovePlayer.player.getModule("videoPlayer");if(!!videoPlayer){videoPlayer.setRenditionSelectionCallback(EmbedVideoPlayerUtil.BrightCovePlayer.selectRendition)}}};EmbedVideoPlayerUtil.BrightCovePlayer.onTemplateReady=function(evt,callback){var player=EmbedVideoPlayerUtil.BrightCovePlayer.player||evt.target.experience;EmbedVideoPlayerUtil.BrightCovePlayer.videoPlayer=player.getModule(APIModules.VIDEO_PLAYER);var videoPlayer=EmbedVideoPlayerUtil.BrightCovePlayer.videoPlayer;EmbedVideoPlayerUtil.BrightCovePlayer.appendControls();EmbedVideoPlayerUtil.BrightCovePlayer.videoExperience=player.getModule(APIModules.EXPERIENCE);EmbedVideoPlayerUtil.BrightCovePlayer.videoCaption=player.getModule(APIModules.CAPTIONS);EmbedVideoPlayerUtil.BrightCovePlayer.showDefaultCaption(false);if(!$("html").hasClass("platform-handheld")&&!$("html").hasClass("platform-tablet")){EmbedVideoPlayerUtil.BrightCovePlayer.seekBarLength=$(".progress-control").width()-EmbedVideoPlayerUtil.BrightCovePlayer.seekButton.width();videoPlayer.addEventListener(BCVideoEvent.VOLUME_CHANGE,EmbedVideoPlayerUtil.BrightCovePlayer.onVolumeChange);videoPlayer.addEventListener(BCMediaEvent.PROGRESS,EmbedVideoPlayerUtil.BrightCovePlayer.onMediaProgress);videoPlayer.addEventListener(BCMediaEvent.BEGIN,EmbedVideoPlayerUtil.BrightCovePlayer.onMediaBegin);videoPlayer.addEventListener(BCMediaEvent.COMPLETE,EmbedVideoPlayerUtil.BrightCovePlayer.onVideoFinish);videoPlayer.addEventListener(BCMediaEvent.PLAY,EmbedVideoPlayerUtil.BrightCovePlayer.onVideoPlay);videoPlayer.addEventListener(BCMediaEvent.STOP,EmbedVideoPlayerUtil.BrightCovePlayer.onVideoStop);videoPlayer.addEventListener(BCMenuEvent.SEND_EMAIL_CLICK,EmbedVideoPlayerUtil.BrightCovePlayer.onSendEmailClick);EmbedVideoPlayerUtil.BrightCovePlayer.unMute(false);EmbedVideoPlayerUtil.BrightCovePlayer.autoSeek();$(window).on("online offline",function(e){var $connectivityMessage=$('<span class="connectivity-message ada-hidden">Unable to connect to server. Please try using a different browser or try again later.</span>');if(e.type==="offline"){$connectivityMessage.appendTo("#"+EmbedVideoPlayerUtil.config.wrapperId).focus()}else{$connectivityMessage.remove()}})}EmbedVideoPlayerUtil.events.ready();if(typeof callback==="function"){return callback(evt)}if(EmbedVideoPlayerUtil.config.videoAutoPlay==="true"){EmbedVideoPlayerUtil.BrightCovePlayer.playButton.trigger("click")}};mw.modules.modal=function(){var defaults={id:"mw-modal",target:".mw-modal-module-standard-skin, .mw-modal-module-image-skin",$target:$(),anchor:$(),show:true,wait:100,animation:"center",width:"100%",height:"100%",buffer:0,exclusion:"",background:"#F8F7F4",duration:500,constraints:{},images:{},hotspots:{},callbacks:{},source:{selector:"",html:"",ajax:""}},settings={},required={name:"modal-module",classes:{background:"shaded",shown:"modal-shown",expand:"expanded",contract:"contracted"}};var setupModal=function(options){settings=$.extend(true,{},defaults,options,required);settings.$target=$(settings.target).addClass("contracted");var anim=settings.$target.attr("data-animate");if(typeof anim=="string"&&defaults.animation==settings.animation){settings.animation=anim}$(window).on("orientationchange resize",settings.$target.setSizeModal);$(document).on("ready updatelayout",settings.$target.setSizeModal);settings.$target.setSizeModal();if(settings.anchor.length>0){settings.$target.attr("data-rel",settings.anchor.attr("rel"))}for(s in settings.source){if(!!settings.source[s]&&settings.source[s]!=""){var $contentLocation=$(".content-wrap",settings.$target);switch(s){case"selector":$contentLocation.html($(settings.source[s]).html());break;case"html":$contentLocation.html(settings.source[s]);break}}}},destroyModal=function(){settings.$target.hide()},toggleModal=function(module){settings.$target.animate({marginLeft:0},{duration:100,complete:function(){module.expand(function(){settings.$target.addClass(settings.classes.background)})}})},bindCloseButton=function(module){$(".close",settings.$target).off("click").on("click",function(e){e.preventDefault();module.contract()})},bindEscapeKey=function(module,action){$(document).on("keyup.modal",function(e){if(e.keyCode==27){e.preventDefault();if(settings.$target.hasClass(settings.classes.expand)){if(typeof action=="function"){action()}else{module.contract()}}}})},getPixelDepth=function(){return $("html").hasClass("hires")?"hires":"lowres"},buildImage=function(module){var $html=$("html"),$module=settings.$target,style="",$style=$('<style type="text/css" />'),resolution=getPixelDepth(),data=settings.images;if(!data.defaults){return}var $image=$module.find(".image");data.current=$.extend(true,{},data.defaults);for(var os in data){if($html.hasClass(os)){data.current=$.extend(true,data.current,data[os]);break}}for(var orient in data.current){style+="html."+orient+" .mw-modal-module-image-skin .image { ";for(var attr in data.current[orient]){var value=data.current[orient][attr];switch(attr){case"width":case"height":style+=attr+": "+value+"px; ";$.data($style,attr,value);break;case"sourceLow":case"sourceHigh":if(resolution=="hires"&&attr=="sourceHigh"){style+="background-image: url("+value+"); "}if(resolution=="lowres"&&attr=="sourceLow"){style+="background-image: url("+value+"); "}break;case"text":$image.append('<div class="alternate ada-hidden '+orient+'">'+value+"</div>");break}}style+="background-size: "+$.data($style,"width")+"px "+$.data($style,"height")+"px; ";style+="}\n"}$style.text(style).appendTo("head")},resizeImage=function(module){var s=settings,$modal=s.$target,$window=$(window),$html=$("html"),$body=$("body"),getZoom=function(){return $window.width()/$body.width()},setSize=function(e){var bZoom=getZoom(),wWidth=Math.round(window.innerWidth/bZoom),wHeight=Math.round(window.innerHeight/bZoom),wRatio=wWidth/wHeight,$img=$modal.find(".image"),$imgClone=$img.clone(true).addClass("natural").removeAttr("style").insertAfter($img),iWidth=$img.getDimension("width","natural"),iHeight=$img.getDimension("height","natural"),iRatio=iWidth/iHeight,iLeft=iTop=0;$img.data("natural-width",iWidth).data("natural-height",iHeight);$imgClone.remove();if(iRatio>wRatio){iHeight=Math.round(iHeight/(iWidth/wWidth));iWidth=wWidth;iTop=Math.round((wHeight-iHeight)/2)}else{iWidth=Math.round(iWidth/(iHeight/wHeight));iHeight=wHeight;iLeft=Math.round((wWidth-iWidth)/2)}$img.not(".natural").css({position:"absolute",top:iTop,left:iLeft,width:iWidth,height:iHeight,backgroundSize:iWidth+"px "+iHeight+"px"});$(".background",$modal).remove();$modal.prepend('<div class="background" style="background: '+s.background+';"/>');$modal.repositionLinks({callback:function(){bindCloseButton(module);bindEscapeKey(module)}})};$(window).on("orientationchange resize modalImageResize",function(e){setTimeout(function(){setSize(e)},10)});setTimeout(function(){$(document).trigger("modalImageResize").trigger("modalImageResizeReady")},settings.wait)},setCookie=function(cookie){try{var cookie=settings.constraints.cookie.name,unit=settings.constraints.cookie.unit,amount=settings.constraints.cookie.amount;if(!$.cookie(cookie)){var date=mw.utils.getFutureDate(amount,unit);$.cookie(cookie,"shown",{path:"/",domain:".bankofamerica.com",expires:date});return true}}catch(err){console.log(err)}return false},getSetCookie=function(cookie){try{var cookie=settings.constraints.cookie.name;if($.cookie&&!!$.cookie(cookie)){return false}else{return setCookie(cookie)}}catch(err){console.log(err)}return false};$.fn.getDimension=function(axis,type){var $this=$(this),$clone=$this.clone(true).addClass("natural").removeAttr("style").insertAfter($this),$measure=$(),value=0;switch(type){case"current":$measure=$this;break;case"natural":$measure=$clone;break}switch(axis){case"x":value=$measure?$measure.position().left:0;break;case"y":value=$measure?$measure.position().top:0;break;case"width":case"height":value=parseInt($measure.css(axis));break}$clone.remove();return value};$.fn.setSizeModal=function(options){var wrapClass="content-wrap",wrapTarget="> ."+wrapClass,s=settings,$modal=s.$target,$wrap=$modal.find(wrapTarget),overflow=1;if($wrap.length==0){$modal.wrapInner('<div class="'+wrapClass+'"/>');$wrap=$modal.find(wrapTarget)}$wrap.css({backgroundColor:s.background});var $window=$(window),wWidth=$window.innerWidth(),wHeight=$window.innerHeight(),$body=$("body"),zoom=parseFloat($body.css("zoom")),mWidth=Math.ceil(wWidth/zoom)+overflow,mHeight=Math.ceil(wHeight/zoom)+overflow,mLeft=mTop=0;if(s.buffer>0){mWidth-=(2*s.buffer);mHeight-=(2*s.buffer);mLeft=s.buffer;mTop=s.buffer}switch(s.exclusion){case"header-footer":var $header=$('[data-role="header"]'),$footer=$('[data-role="footer"][data-position="fixed"]'),hHeight=0+$header.outerHeight(),fHeight=0+$footer.outerHeight();mHeight-=hHeight+fHeight;mTop+=hHeight;break}$wrap.css({width:mWidth+"px",height:mHeight+"px",top:mTop+"px",left:mLeft+"px"})};$.fn.repositionLinks=function(options){var s=settings,$h=$("html"),$b=$("body"),bZoom=$b.css("zoom"),$modal=s.$target,$content=$modal.find(".image"),cZoom=$content.getDimension("width","natural")/$content.getDimension("width","current"),$a=$("<a/>"),$aclone=$(),aClass="hotspot";$("a."+aClass,$content).remove();var currOr=$h.hasClass("portrait"),orCk=(currOr)?"portrait":"landscape";var usrAgent=null;if($h.hasClass("os-none")){usrAgent="os-none"}else{if($h.hasClass("os-ios")){usrAgent="os-ios"}else{if($h.hasClass("os-and")){usrAgent="os-and"}}}var defaults={};for(hotspot in s.hotspots){if(hotspot=="defaults"){defaults=s.hotspots[hotspot]}}for(hotspot in s.hotspots){s.hotspots[hotspot]=$.extend(true,{},defaults,s.hotspots[hotspot])}for(hotspot in s.hotspots[usrAgent]){$aclone=$a.clone(true);var role=s.hotspots[usrAgent][hotspot].role,hWidth=Math.round(s.hotspots[usrAgent][hotspot].layouts[orCk].width/cZoom),hHeight=Math.round(s.hotspots[usrAgent][hotspot].layouts[orCk].height/cZoom),hTop=Math.round(s.hotspots[usrAgent][hotspot].layouts[orCk].y/cZoom),hLeft=Math.round(s.hotspots[usrAgent][hotspot].layouts[orCk].x/cZoom);$aclone.attr("href",s.hotspots[usrAgent][hotspot].href).text(s.hotspots[usrAgent][hotspot].text).addClass(aClass).addClass(!!role?role:"no-role").css({left:hLeft,top:hTop,width:hWidth,height:hHeight}).attr("data-ajax","false").appendTo($content);switch(hotspot){case"affirmative":$aclone.addClass("yes");break;case"negative":$aclone.addClass("no");break}}if(!!options&&!!options.callback&&typeof options.callback=="function"){options.callback()}};$.fn.moveModal=function(action,callback){$.each(this,function(i){var s=settings,$t=$(this),$b=$("body"),sWidth=sHeight=sLeft=sTop=sOpacity=0,eWidth=eHeight=eLeft=eTop=eOpacity=0,tWidth=tHeight=tLeft=tTop=tOpacity=0;sWidth=eWidth=s.width;sHeight=eHeight=s.height;sOpacity=1;eOpacity=1;marginLeft=""+Math.round((100-parseFloat(eWidth))/2,2)+"%";marginTop=""+Math.round((100-parseFloat(eHeight))/2,2)+"%";switch(s.animation){case"center":sWidth=0;sHeight=0;sTop="50%";sLeft="50%";sOpacity=0;break;case"bottom":sTop="100%";eTop=0;break;case"top":sTop="-100%";eTop=0;break;case"left":sLeft="-100%";eLeft=0;break;case"right":sLeft="100%";eLeft=0;break;case"fade":sOpacity=0;break}if(action=="contract"){tWidth=sWidth;sWidth=eWidth;eWidth=tWidth;tHeight=sHeight;sHeight=eHeight;eHeight=tHeight;tTop=sTop;sTop=eTop;eTop=tTop;tLeft=sLeft;sLeft=eLeft;eLeft=tLeft;tOpacity=sOpacity;sOpacity=eOpacity;eOpacity=tOpacity}$t.css({display:"block",opacity:sOpacity,top:sTop,left:sLeft,width:sWidth,height:sHeight,"margin-top":marginTop,"margin-left":marginLeft}).removeClass("contracted").animate({opacity:eOpacity,top:eTop,left:eLeft,width:eWidth,height:eHeight},{duration:s.duration,complete:function(){var addClass=s.classes.contract,removeClass=s.classes.expand;if(action=="expand"){addClass=s.classes.expand;removeClass=s.classes.contract}$t.addClass(addClass).removeClass(removeClass);$b.toggleClass("modaled");if(typeof callback=="function"){callback()}}})});return this};return{init:function(options){var module=this;setupModal(options);mwlog(settings.name,"init","start");if(!module.validate()){destroyModal();return}buildImage(module);resizeImage(module);$(document).on("modalImageResizeReady",function(){toggleModal(module);bindCloseButton(module);bindEscapeKey(module)});mwlog(settings.name,"init","end")},validate:function(){var s=settings;s.show=settings.$target.attr("data-show")?s.$target.attr("data-show"):s.show;if(!s.show||s.show=="false"){return false}if(typeof onloaderTaggingEnabled!="undefined"&&!onloaderTaggingEnabled){return false}if($.isEmptyObject(settings.constraints)){return true}var ret=true;for(c in settings.constraints){if(c=="OS"){if($("html").filter(settings.constraints[c]).length==0){ret=false;retSet=true}}if(c=="cookie"&&$.cookie){if(typeof settings.constraints[c]=="object"&&settings.constraints[c]&&ret){ret=getSetCookie(settings.constraints[c]);retSet=true}}}return ret},expand:function(callback){settings.$target.moveModal("expand",function(){if(typeof callback=="function"){callback()}if(typeof settings.callbacks.expand=="function"){settings.callbacks.expand()}})},contract:function(callback){settings.$target.removeClass(settings.classes.background);setTimeout(function(){settings.$target.moveModal("contract",function(){if(typeof callback=="function"){callback()}if(typeof settings.callbacks.contract=="function"){settings.callbacks.contract()}})},250)},bindEscape:function(action){bindEscapeKey(this,action)},setDefault:function(attribute,value){defaults[attribute]=value},createModal:function(options){var newOptions=$.extend(true,{},defaults,options,required),$source=$(newOptions.target),$target=$source.clone(true).insertAfter($source).attr("id",newOptions.id);newOptions.target="#"+newOptions.id;mw.modules.modal.init(newOptions);return $target},removeRel:function(){settings.$target.removeAttr("data-rel")}}}();mw.modules.headerSignIn={settings:{target:".mw-hm-sis",topClass:"position-top"},init:function(settings){mwlog("mw-header","init","start");this.settings=$.extend({},this.settings,settings);var self=this,s=self.settings,$header=$(s.target);if($header.length<=0){return}$header.toolbar({fullscreen:true,tapToggle:false,tapToggleBlacklist:"a,button,input,select,textarea,.ui-header-fixed,.ui-footer-fixed",updatePagePadding:true});var headerPosition=function(){var get=function(){return Math.floor($header.position().top/$("body").css("zoom"))},getStored=function(){return $header.data("top")};return{set:function(){return $header.data("top",get())},check:function(){if(get()>=getStored()){$header.addClass(s.topClass)}else{$header.removeClass(s.topClass)}}}}();$(document).on("ready scroll",headerPosition.check);$(window).on("resize orientationchange",headerPosition.check);headerPosition.set();headerPosition.check();mwlog("mw-header","init","end")}};$(document).on(mw.vars.moduleStartEvent,function(e){mw.modules.headerSignIn.init()});mw.modules.carousel={settings:{rotateSpeed:5000,wait:0,transition:500,loop:true,preload:true},filterDeviceOS:function(group){var $group=$(group),filter="> li";mw.functions.targetMobileOS({containerClass:$group,targetFilter:filter,callBack:function(osSettings){var $filtered=$group.find(filter);if(!!osSettings&&!!osSettings.containerOSAll){$group.find(filter+"."+osSettings.containerOSAll).addClass(osSettings.targetClass)}$group.find(filter).not("."+osSettings.targetClass).remove().end();$group.setFirstLastCount({node:"> li",label:"item",action:"remove"}).setFirstLastCount({node:"> li",label:"item"});mw.functions.clearDeviceOS($filtered)}})},getRotation:function(carousel,value){var $html=$("html"),$c=$(carousel),boolRotate=$c.attr("data-rotate"),valRotate=$c.attr("data-rotate-speed"),filterRotate=$c.attr("data-rotate-disabled");boolRotate=(typeof boolRotate!="undefined")?(boolRotate=="no"?false:true):true;valRotate=(typeof valRotate!="undefined")?(1*valRotate):this.settings.rotateSpeed;filterRotate=(typeof filterRotate!="undefined")?filterRotate.split(","):Array("");filterRotate=(filterRotate.length>1)?filterRotate:filterRotate[0].split(" ");if(!boolRotate){value=0}else{for(var i=0;i<filterRotate.length;i++){if($html.hasClass($.trim(filterRotate[i]))){return 0}}return valRotate}return value},getLoop:function(carousel,value){var $c=$(carousel),loop=$c.attr("data-loop");loop=(typeof loop!="undefined")?(loop=="no"?false:true):value;return loop},getWait:function(carousel,value){var $c=$(carousel),wait=$c.attr("data-wait");wait=(typeof wait!="undefined")?1*wait:value;return wait},getTransition:function(carousel,value){var $c=$(carousel),transition=$c.attr("data-transition");transition=(typeof transition!="undefined")?1*transition:value;return transition},getPreload:function(carousel,value){var $c=$(carousel),preload=$c.attr("data-preload");preload=(typeof preload!="undefined")?(preload=="no"?false:true):value;return preload},cmsOverride:function($sc){if(typeof carouselData=="object"&&!!carouselData&&typeof carouselData.slides=="object"){var $module=$sc.parents('[data-module="mw-carousel-module"]'),$div=$('<div id="mbox-homepage-carousel"/>'),slides=carouselData.slides,action=!!carouselData.action?carouselData.action:"replace";html="",rotate=1*carouselData.meta.rotate,rotateDisabled=carouselData.meta.rotateDisabled,wait=carouselData.meta.wait,loop=carouselData.meta.loop,transition=carouselData.meta.transition,preload=carouselData.meta.preload;$module.empty().append($div);if(!!rotate){if(rotate>0){$module.attr("data-rotate","yes").attr("data-rotate-speed",rotate);if(typeof rotateDisabled=="object"){$module.attr("data-rotate-disabled",rotateDisabled.join(","))}}else{$module.attr("data-rotate","no")}}if(!!wait){$module.attr("data-wait",1*wait)}if(!!transition){$module.attr("data-transition",1*transition)}if(!!loop){$module.attr("data-loop",loop?"yes":"no")}if(!!preload){$module.attr("data-preload",preload?"yes":"no")}$sc.addClass("cms-json");switch(action){case"replace":$sc.empty().trigger("create");break;case"append":html+=$sc.html();break}var aWrap="";for(s in slides){var current=slides[s],id=current.id,impressionTag=current.impressionTag,filter=current.filter,layout=current.layout,role=current.role,imageLow=current.bkg,imageHigh=current.bkgHigh,title=current.title,text=current.text,ctaLink=current.ctaLink,ctaText=current.ctaText,ctaWidth=parseInt(current.ctaWidth)+"px",ctaHeight=parseInt(current.ctaHeight)+"px",ctaTop=parseInt(current.ctaY)+"px",ctaLeft=parseInt(current.ctaX)+"px",boxLayout="",boxAnchor='<a id="anchor-'+id+'" data-ajax="false" href="'+ctaLink+'" data-offset-y="'+ctaTop+'" data-offset-x="'+ctaLeft+'" style="width: '+ctaWidth+"; height: "+ctaHeight+"; top: "+ctaTop+"; left: "+ctaLeft+'">'+ctaText+"</a>",boxTitle=(title?"<h2>"+title+"</h2>":""),boxText=text,boxLayout=boxTitle+boxText+boxAnchor;html+='<li id="'+id+'" class="panel '+filter+'" data-slide-skin="'+layout+'"'+(imageLow?' data-img-bg-1x="'+imageLow+'"':"")+(imageHigh?' data-img-bg-2x="'+imageHigh+'"':"")+(impressionTag?' data-reveal-coremetrics="'+impressionTag+'"':"")+'><div class="g pad img-bg"><div class="r">'+boxLayout+"</div></div> </li>"}html='<ul class="slides cms">'+html+"</ul>";$div.html(html).trigger("create");$sc=$div.find("ul.slides")}return $sc},init:function($target){mwlog("mw-carousel","hp-skin","start");var carousel=(typeof $target=="object")?$target:$(".mw-csm-hps"),slideContainer=carousel.find("ul.slides");slideContainer=this.cmsOverride(slideContainer);this.filterDeviceOS(slideContainer);var slides=slideContainer.find("li"),slideCount=slides.length,dotHtml=[],rotateSpeed=this.getRotation(carousel,this.settings.rotateSpeed),loop=this.getLoop(carousel,this.settings.loop),wait=this.getWait(carousel,this.settings.wait),transition=this.getTransition(carousel,this.settings.transition),preload=this.getPreload(carousel,this.settings.preload);for(var i=0;i<slideCount;i++){dotHtml[i]='<span class="ada-hidden">Go to carousel slide '+(i+1)+"</span>"}slides.each(function(i){$(this).addClass($(this).data("slide-skin"))});carousel.carousel({auto:rotateSpeed,usePrev:false,useNext:false,dotHtml:dotHtml,loop:loop,preloadImages:preload,wait:wait,speed:transition});if(carousel.data("carousel")){carousel.data("carousel").callback=function(){var classes="";slides.each(function(){var skin=$(this).data("slide-skin");if(typeof skin!="undefined"){classes+=skin+" "}});carousel.removeClass(classes).addClass(carousel.find("li.active").data("slide-skin"))};carousel.data("carousel").callback();carousel.find("https://www.bankofamerica.com/mobile/a.dot").each(function(i){$(this).attr("id","carousel-dot-panel"+(i+1))});slides.createClickLayer({link:"a:first",events:{click:function(e){if(carousel.data("carousel").allowClick){return true}e.preventDefault()}}})}mwlog("mw-carousel","hp-skin","end")}};$(document).on(mw.vars.moduleStartEvent,function(e){mw.modules.carousel.init()});var mwCarousel=function(){var defaults={carousel:'[data-module="mw-carousel-module"]',$carousel:$(),$current:$()},required={},data={},panel={id:"",impressionTag:"",layout:"default",filter:"os-all",title:"",text:"",padding:0,bkg:"",bkgHigh:"",ctaLink:"",ctaText:"",ctaX:0,ctaY:0,ctaWidth:100,ctaHeight:50},meta={pause:{source:"data-wait",value:0},rotate:{source:"data-rotate-speed",value:5000},rotateDisabled:{source:"data-rotate-disabled",value:""},loop:{source:"data-loop",value:"yes"},transition:{source:"data-transition",value:500},preload:{source:"data-preload",value:"no"}},announcement;var _convert=function(direction,obj){var json2html=(direction=="json2html"),data=json2html?$.extend({},panel,obj):$.extend({},panel),$data=json2html?$('<li class="panel"><div class="g pad img-bg"><div class="r"></div></div></li>'):$(obj);if(json2html){var $cta=$("<a/>").attr("href",data.ctaLink),$row=$data.find(".r");switch(data.layout){default:$row.addClass("titleTarget textTarget ctaTarget");break;case"textLeft50":$row.append('<div class="one-whole titleTarget"/>').append('<div class="one-half textTarget"/>').append('<div class="one-half ctaTarget"/>');break;case"textRight50":$row.append('<div class="one-whole titleTarget"/>').append('<div class="one-half ctaTarget"/>').append('<div class="one-half textTarget"/>');break;case"allLeft50":$row.append('<div class="one-half titleTarget textTarget"/>').append('<div class="one-half ctaTarget"/>');break;case"allRight50":$row.append('<div class="one-half ctaTarget"/>').append('<div class="one-half titleTarget textTarget"/>');break;case"textLeft67":$row.append('<div class="one-whole titleTarget"/>').append('<div class="two-thirds textTarget"/>').append('<div class="one-third ctaTarget"/>');break;case"textRight67":$row.append('<div class="one-whole titleTarget"/>').append('<div class="one-third ctaTarget"/>').append('<div class="two-thirds textTarget"/>');break;case"allLeft67":$row.append('<div class="two-thirds titleTarget textTarget"/>').append('<div class="one-third ctaTarget"/>');break;case"cc4":case"allRight67":$row.append('<div class="one-third ctaTarget"/>').append('<div class="two-thirds titleTarget textTarget"/>');break}_modify($data,"id",data.id);_modify($data,"layout",data.layout);$data.addClass(data.filter).attr("data-img-bg-1x",data.bkg).attr("data-img-bg-2x",data.bkgHigh).find(".titleTarget").append(data.title!=""?"<h2>"+data.title+"</h2>":"").removeClass("titleTarget").end().find(".textTarget").append(data.text!=""?"<p>"+data.text+"</p>":"").removeClass("textTarget").end().find(".ctaTarget").append(data.ctaLink!=""?$('<a href="'+data.ctaLink+'" />').html(data.ctaText).css({left:data.ctaX,top:data.ctaY,width:data.ctaWidth,height:data.ctaHeight}):"").removeClass("ctaTarget").end();return $data[0].outerHTML}else{data.id=$data.attr("id"),data.impressionTag=$data.attr("data-reveal-coremetrics"),data.layout=$data.attr("data-slide-skin"),data.filter=($data.attr("class")+"").replace(/panel/g,""),data.title=$data.find("h2").html(),data.text=$data.find(".r").clone().find("h2").remove().end().html(),data.bkg=$data.attr("data-img-bg-1x"),data.bkgHigh=$data.attr("data-img-bg-2x"),$cta=$data.find("a:first"),data.ctaLink=$cta.attr("href"),data.ctaText=$cta.html(),data.ctaX=$cta.css("left"),data.ctaY=$cta.css("top"),data.ctaWidth=$cta.css("width"),data.ctaHeight=$cta.css("height");return data}},_buildHTML=function(json){return _convert("json2html",json)},_buildJSON=function(html){return _convert("html2json",html)},_buildJSONGroup=function($list){var group={};group.slides={};$.each($list.find("ul.slides li"),function(i){group.slides[i]=_buildJSON(this.outerHTML)});group.meta=_buildMeta($list);return group},_buildMeta=function($group){var obj={};for(m in meta){var mValue=$group.attr(meta[m].source);mValue=mValue?mValue:meta[m].value;obj[m]=mValue}return obj},_initialize=function(settings){data=$.extend({},defaults,settings,required);data.$carousel=$(data.carousel);data.$current=data.$carousel.clone()},_rebuild=function(){var $carousel=data.$carousel,$current=data.$current;if(typeof mwAdobe=="object"){mwAdobe.setup($current)}$current.attr("id","carousel-current");$carousel.replaceWith($current);data.$carousel=$("#carousel-current");mw.modules.carousel.init(data.$carousel)},_storeOriginal=function(){data.$carousel.each(function(i){var $c=$(this);$c.data("original",$c.clone())});return},_select=function(id){data.$carousel=null;var $carousels=$('[data-module="mw-carousel-module"]');if(typeof id=="string"){data.$carousel=$carousels.find("#"+id).parent()}if(data.$carousel==null||data.$carousel.length==0){data.$carousel=$(data.carousel).filter(":first")}_reset();return data.$carousel},_set=function(action,newPanel,oldPanel){switch(action){case"add":return _add(newPanel,oldPanel);break;case"replace":return _replace(newPanel,oldPanel);break;case"empty":oldPanel=null;case"remove":return _remove(oldPanel);break;case"reset":return _reset(oldPanel);break}},_add=function(panel,target){if(typeof panel=="undefined"){return}var $after=$(),$panel=$(_buildHTML(panel)),$target=data.$current.find("#"+target);if($target.length==0){data.$current.find("ul.slides").append($panel)}else{$target.before($panel)}return data.$current},_replace=function(panel,target){if(typeof panel=="undefined"||typeof target=="undefined"){return}var $current=data.$current.find("li#"+target),$future=$(_buildHTML(panel)).data("originalid",target);$current.replaceWith($future);return data.$current},_get=function(version,format,id){var $source=(version=="original")?_getOriginal().clone():data.$current.clone(),output="",ids=Array();(typeof id!="undefined")?ids.push(id):$source.find("li").each(function(i){ids.push($(this).attr("id"))});switch(format){case"html":case"HTML":for(var i=0;i<ids.length;i++){output+=$source.find("#"+ids[i])[0].outerHTML+"\n\n"}break;default:output={};for(var i=0;i<ids.length;i++){output[ids[i]]=_buildJSON($source.find("#"+ids[i]))}break}return output},_getOriginal=function(id){var $original=data.$carousel.data("original");if(typeof id!="string"){return $original}return $original.find("#"+id)},_getDefault=function(name){return defaults.panel[name]},_modify=function(target,name,value){if(typeof target=="undefined"||typeof name!="string"){return}var $target=typeof target=="string"?$("#"+target,data.$current):$(target),action=typeof value,context=(target=="global")?"global":"local";if(typeof $target.data("modifyid")!="string"){$target.data("modifyid",$target.attr("id"))}var $original=_getOriginal($target.data("modifyid"));if(action=="undefined"){action="reset"}if(value==null&&action=="object"){action="remove"}switch(name+"-"+action+"-"+context){case"id-reset-local":value=$target.data("originalid");case"id-string-local":$target.attr("id",value);break;case"impressionTag-remove-local":$target.removeAttr("data-reveal-coremetrics");break;case"impressionTag-reset-local":value=$original.attr("data-reveal-coremetrics");case"impressionTag-string-local":$target.attr("data-reveal-coremetrics",value);break;case"layout-remove-local":$target.removeAttr("data-slide-skin");break;case"layout-reset-local":value=$original.attr("data-slide-skin");case"layout-string-local":$target.attr("data-slide-skin",value);break;case"filter-remove-local":$target.removeAttr("class");break;case"filter-reset-local":value=$original.attr("class");case"filter-string-local":$target.attr("class",value);break;case"title-remove-local":$target.find("h2").empty();break;case"title-reset-local":value=$original.find("h2").text();case"title-string-local":$target.find("h2").text(value);break;case"text-remove-local":$target.find("p").remove();break;case"text-string-local":$target.find("p").remove().end().find("h2").after("<p>"+value+"</p>");break;case"text-reset-local":$target.find("p").remove().end().find("h2").after($original.find("p").clone(true));break;case"padding-reset-local":case"padding-number-local":break;case"bkg-remove-local":$target.removeAttr("data-img-bg-1x");break;case"bkg-reset-local":value=$original.attr("data-img-bg-1x");case"bkg-string-local":$target.attr("data-img-bg-1x",value);break;case"bkgHigh-remove-local":$target.removeAttr("data-img-bg-2x");break;case"bkgHigh-reset-local":value=$original.attr("data-img-bg-2x");case"bkgHigh-string-local":$target.attr("data-img-bg-2x",value);break;case"ctaLink-remove-local":$target.find("a").empty();break;case"ctaLink-reset-local":value=$original.find("a").attr("href");case"ctaLink-string-local":$target.find("a").attr("href",value);break;case"ctaText-remove-local":$target.find("a").text("");break;case"ctaText-reset-local":value=$original.find("a").text();case"ctaText-string-local":$target.find("a").text(value);break;case"ctaX-remove-local":$target.find("a").css({left:"auto"});break;case"ctaX-reset-local":value=$original.find("a").position()?$original.find("a").position().left:0;case"ctaX-number-local":$target.find("a").css({left:value});break;case"ctaY-remove-local":$target.find("a").css({top:"auto"});break;case"ctaY-reset-local":value=$original.find("a").position()?$original.find("a").position().top:0;case"ctaY-number-local":$target.find("a").css({top:value});break;case"ctaWidth-remove-local":$target.find("a").css({width:"auto"});break;case"ctaWidth-reset-local":value=$original.find("a").outerWidth();case"ctaWidth-number-local":$target.find("a").css({width:value});break;case"ctaWidth-remove-local":$target.find("a").css({height:"auto"});break;case"ctaHeight-reset-local":value=$original.find("a").outerHeight();case"ctaHeight-number-local":$target.find("a").css({height:value});break;default:if(context=="global"){var attribute="data-"+name;$target=data.$current;switch(action){case"remove":$target.removeAttr(attribute);break;case"reset":value=$original.attr(attribute);case"string":case"number":$target.attr(attribute,value);break}}break}return data.$current},_remove=function(target){if(typeof target=="undefined"||!target){data.$current.find("ul.slides > li").remove()}else{data.$current.find('li[id="'+target+'"]').remove()}return data.$current},_reset=function(target){var $original=$(data.$carousel.data("original")[0].outerHTML);if(typeof target=="undefined"){data.$current=$original}else{var id=data.$current.data("originalid");id=(typeof id=="string")?id:target;data.$current.find("#"+target).replaceWith($original.find("#"+id))}return data.$current},_review=function(){return data.$current[0].outerHTML},_commit=function(){_rebuild()},_meta=function(name,value,id,version){if(typeof name=="undefined"){return}if(data.$current.length==0){_select()}var set=(typeof value=="undefined"||value==null)?false:true,$target=(typeof id=="undefined")?data.$current:$("#"+id,data.$current),output="";if(version=="original"){if(set){return}$target=_getOriginal()}switch(name){case"layout":if(typeof id!="string"){return}output=set?$target.attr("data-slide-skin",value):$target.attr("data-slide-skin");break;default:output=set?$target.attr("data-"+name,value):$target.attr("data-"+name);break}if((set&&name=="rotate"&&value=="no")||(set&&name=="rotate-speed"&&value==0)){$target.attr("data-rotate-disabled","yes").attr("data-rotate-speed",0)}else{$target.removeAttr("data-rotate-disabled")}return output},_announce=function(action){if(typeof announcement=="number"){clearInterval(announcement)}if(action=="on"){announcement=setInterval(function(){$(document).trigger("mwCarousel.loaded")},200);setTimeout(function(){_announce("off")},20000)}};_initialize();_storeOriginal();_announce("on");return{announce:function(){_announce("on")},unannounce:function(){_announce("off")},init:function(settings){_announce("off");_initialize(settings);_select();return this},select:function(id){_select(id);return this},get:function(version,format,id){return _get(version,format,id)},getCurrent:function(format,id){return _get("current",format,id)},getOriginal:function(format,id){return _get("original",format,id)},set:function(action,newPanel,oldPanel){_set(action,newPanel,oldPanel);return this},add:function(panel,id){_set("add",panel,id);return this},replace:function(panel,id){_set("replace",panel,id);return this},remove:function(id){_set("remove",null,id);return this},empty:function(){_remove();return this},reset:function(id){_set("reset",null,id);return this},modify:function(id,name,value){_modify(id,name,value);return this},review:function(){return _review()},commit:function(){_commit();return this},meta:function(action,name,value,id){return _meta(name,value,id)},getOriginalMeta:function(name,id){return _meta(name,null,id,"original")},getMeta:function(name,id){return _meta(name,null,id)},setMeta:function(name,value,id){return _meta(name,value,id)}}}();mw.modules.linksListIconsGrid={settings:{$target:{},target:".mw-links-list-module-icons-grid-skin"},init:function(settings){mwlog("mw-links-list","init","start");this.settings=$.extend({},this.settings,settings);var self=this,s=self.settings,$target=$(s.target);s.$target=$target;setTimeout(function(){$("li, .intro",$target).createClickLayer({link:"a:first",classes:{hover:"hoverBlue",hit:"hitBlue"}})},5000);$target.filter(".grid").createRows();$target.filter(".list").each(function(i){var $list=$(this),$accordion=$list.filter(".accordion"),$notAccordion=$list.not(".accordion"),$extras=$list.find(".expandable"),$trigger=$list.find(".expand");if(!$extras.length){return}if(!$trigger.length){return $extras.removeClass("expandable")}$notAccordion.each(function(i){$trigger.append('<span class="plus">+</span><span class="minus">-</span>');$trigger.insertBefore($extras[0])});$trigger.addClass("trigger").find("a").on("click",function(e){$list.toggleClass("expanded")})});$("ul",$target).setFirstLastCount({node:"> li",label:"item"});mwlog("mw-links-list","init","end")}};$(document).on(mw.vars.moduleStartEvent,function(e){mw.modules.linksListIconsGrid.init()});mw.modules.mwC2aAnchorBox={CONTEXT:".mw-c2a-module-anchor-box-skin",init:function(){var self=this;if($(self.CONTEXT).length==0){return false}$(mw.modules.mwC2aAnchorBox.CONTEXT).createClickLayer({classes:{hover:"hoverBlue",hit:"hitBlue"},buffer:{all:10}});$(mw.modules.mwC2aAnchorBox.CONTEXT).on("mouseenter mouseleave vmousedown vmouseup",function(e){var marginTop=-25;if(e.type=="mouseenter"||e.type=="vmousedown"){marginTop-=75}$(this).find(".mw-sprite-raster img").css("marginTop",marginTop)})},};$(document).on(mw.vars.moduleStartEvent,function(e){mw.modules.mwC2aAnchorBox.init()});mw.modules.LinksListHrzBox={CONTEXT:".mw-links-list-module-hrz-box-skin",init:function(){var self=mw.modules.LinksListHrzBox;if($(self.CONTEXT).length==0){return false}$("li",self.CONTEXT).createClickLayer({classes:{hover:"hoverBlue",hit:"hitBlue"}});$(self.CONTEXT).delegate("a","focus",function(){var myLink=$(this);myLink.prev().addClass("linkFocus")});$(self.CONTEXT).delegate("a","blur",function(){var myLink=$(this);myLink.prev().removeClass("linkFocus")})},};$(document).on(mw.vars.moduleStartEvent,function(e){mw.modules.LinksListHrzBox.init()});mw.modules.boaNavigation={settings:{click:".mw-hm-ss .options .menu",target:".mw-nm-fs"},init:function(settings){mwlog("mw-navigation","init","start");this.settings=$.extend({},this.settings,settings);var self=this,s=self.settings,$button=$(s.click),$window=$(window),$body=$("body"),$nav=$(s.target),$shadow=$('<div class="shadow"/>'),$mask=$('<div class="page-mask"/>');$shadow.appendTo($nav);$mask.insertAfter($nav);$button.on("click.navigation",function(e){e.preventDefault();$nav.panel("open");mw.functions.scrollTo(e)});var preventDefault=function(e){e.preventDefault()};$("a",$nav).on("click",function(e){mwlog("mw-navigation","click","fire");e.preventDefault();var href=$(this).attr("href");if(href=="#"){return false}$nav.panel("close");window.location.href=href;return false});$nav.on("ready.navigation",function(e){var peekClass="animate-peek",peekClassIn=peekClass+"-in",peekClassOut=peekClass+"-out",peekCount=2,peekSpeed=400,bounceCookie="mwNavigationBounced",animatePeek=function($item,count,speed){$item.addClass(peekClass).animate({opacity:1},{duration:(count==peekCount?speed:0),complete:function(){$(this).addClass(peekClassIn).animate({opacity:1},{duration:speed,complete:function(){$(this).addClass(peekClassOut).removeClass(peekClassIn).animate({opacity:1},{duration:speed,complete:function(){$(this).removeClass(peekClassOut).removeClass(peekClass);if(count>1){animatePeek($(this),count-1,speed)}}})}})}})},boolBounce=$(this).attr("data-bounce");if(boolBounce&&(boolBounce=="true"||boolBounce=="yes")&&$.cookie&&!$.cookie(bounceCookie)){animatePeek($nav,peekCount,peekSpeed)}$.cookie(bounceCookie,"bounced",{path:"/",domain:".bankofamerica.com"})});$nav.trigger("ready.navigation");mwlog("mw-navigation","init","end")}};$(document).on(mw.vars.moduleStartEvent,function(e){mw.modules.boaNavigation.init({click:"#header .menu",target:"#mw-navigation"})});mw.modules.boaFooter={settings:{target:".mw-fm-ss"},createRows:function($container){},init:function(settings){mwlog("mw-footer","init","start");this.settings=$.extend({},this.settings,settings);var self=this,s=self.settings,$footer=$(s.target);$footer.find(".copyright a:last").addClass("mw-sprite mw-sprite-I2 ehl");setTimeout(function(){$footer.find(".links").setFirstLastCount({node:"li:visible",label:"link"}).createRows({target:"li:visible"})},500);var checkDocHeight=function(){setTimeout(function(){$footer.removeClass("bottom");if($(document).height()<=$(window).height()){$footer.addClass("bottom");$("#content").css({paddingBottom:$("footer").outerHeight()+"px"})}$("#page").css({minHeight:"100%"})},500)};$(window).on("resize orientationchange",checkDocHeight);mwlog("mw-footer","init","end")}};$(document).on(mw.vars.moduleStartEvent,function(e){mw.modules.boaFooter.init()});var mwLoadedFamilies={},mwLoaderCheckFamily=function(files,file){var getTaggingPrereqs=function(files,family){var required=Array();for(var f in files){if(files[f].family==family){required.push(files[f].path)}}return required},loadList=mwLoadedFamilies[file.family];if(typeof loadList=="undefined"){loadList=Array()}loadList.push(file.path);mwLoadedFamilies[file.family]=loadList;var difference=[],tempRequired=getTaggingPrereqs(files,file.family);$.grep(tempRequired,function(el){if($.inArray(el,loadList)==-1){difference.push(el)}});if(difference.length==0){$("html").trigger("prereq-"+file.family)}return};mw.modules.loader=function(){var defaults={path:"",delay:0,cache:true,callback:null},settings={},required={};var fireCallback=function(d){$("html").trigger("loader-"+d.id);switch(typeof d.callback){case"string":var fn=window[d.callback];if(typeof fn=="function"){fn(settings,d)}break;case"function":d.callback(settings,d);break;case"object":if($.isEmptyObject(d.callback)){return}if($.isEmptyObject(d.callback.action)){return}var fn=window[d.callback.action];if(typeof fn=="function"){fn(settings,d)}break}},loadFile=function(d){var $target=$();if(d.target=="page"){$target=$(document)}else{$target=$("#"+d.target)}$target.on(d.event,function(){setTimeout(function(i){var random=(new Date()).getTime();if(onloaderTaggingEnabled){switch(d.type){case"inject":case"script-tagging":var baseScript=document.createElement("script");baseScript.setAttribute("src",d.path+"?"+(d.cache===false?random:""));document.getElementsByTagName("head")[0].appendChild(baseScript);fireCallback(d);break;case"inline-js":case"inline-css":$.ajax({url:d.path,dataType:"text",cache:d.cache,context:document.body}).done(function(data){switch(d.type){case"inline-js":$("<script>"+data+"<\/script>").appendTo("head");break;case"inline-css":break}fireCallback(d)});break;default:$.ajax({url:d.path,dataType:d.type,cache:d.cache,context:document.body}).done(function(){fireCallback(d)});break}}else{mw.utils.fireEvent(mw.vars.thirdPartyComplete)}},d.delay)})};return{init:function(files){var module=this;if(typeof options=="undefined"){if(typeof mwLoadData!="undefined"){files=$.extend({},mwLoadData)}else{return}}settings=$.extend({},settings,files);for(var f in files){var data=$.extend({},defaults,files[f]);loadFile(data)}}}}();$(document).on(mw.vars.moduleStartEvent,function(e){mw.modules.loader.init()});mw.modules.loader.reveal=function(){var defaults={listenClass:"loader-target",listenEvent:"loaderReady",listenTimer:5000,waitClass:"loader-target-wait",waitOverlayClass:"loader-visual"},settings={},required={};_addWait=function(s,target){$(target).not("."+s.waitClass).each(function(){var $t=$(this),$overlay=$('<div class="'+s.waitOverlayClass+' loader-overlay"></div>'),height=$t.height(),width=$t.width();$t.prepend($overlay).addClass(s.waitClass)})},_removeWait=function(s,target){$(target).each(function(){var $t=$(this),removeClass=function($item){$item.removeClass(s.waitClass).removeClass(s.listenClass)},$overlay=$t.find("."+s.waitOverlayClass);if($overlay.length>0){$overlay.animate({opacity:0},500,function(){$(this).remove();removeClass($t)})}else{removeClass($t)}})},_reveal=function(){$(document).trigger(settings.listenEvent)},_setup=function($target){var s=settings,$targets=(typeof $target=="object")?$target:$("."+s.listenClass),timer=setTimeout(function(){$(document).trigger(s.listenEvent)},s.listenTimer);$targets.each(function(){_addWait(s,this)});$(document).on(s.listenEvent,function(e){clearTimeout(timer);_removeWait(s,$targets)})},_areCookiesEnabled=function(){var cookieEnabled=(navigator.cookieEnabled)?true:false;if(typeof navigator.cookieEnabled=="undefined"&&!cookieEnabled){document.cookie="testcookie";cookieEnabled=(document.cookie.indexOf("testcookie")!=-1)?true:false}return(cookieEnabled)};return{init:function(data){settings=$.extend({},defaults,data,required);return this},setup:function($target){if(!_areCookiesEnabled()){settings.listenTimer=0}return _setup($target)},ready:_reveal}}();var mwAdobeData={listenClass:"mbox-target",listenEvent:"loaded.TestAndTarget",listenTimer:2500,waitClass:"mbox-target-wait",waitOverlayClass:"mw-tagging-module-spinner"},mwAdobe=mw.modules.loader.reveal.init(mwAdobeData);$(document).on(mw.vars.moduleStartEvent,function(e){mwAdobe.setup()});$(document).ready(function(){var $mediaModule=$(".mw-mm-vs");if($mediaModule.length>0){var orgWidth=EmbedVideoPlayerUtil.config.width,extOnTemplateReady=EmbedVideoPlayerUtil.BrightCovePlayer.onTemplateReady;var videoOnOrientationChange=function(){$("#"+EmbedVideoPlayerUtil.config.wrapperId).empty();setTimeout(function(){EmbedVideoPlayerUtil.init({width:orgWidth})},500)};$(window).on("orientationchange",videoOnOrientationChange);EmbedVideoPlayerUtil.BrightCovePlayer.onTemplateReady=function(evt){extOnTemplateReady(evt,function(event){var appendVideoTime=function(formattedTime){$("#"+EmbedVideoPlayerUtil.config.wrapperId).parent().find(".video-duration").remove().end().find(".video-player-wrapper").after(['<span class="video-duration textStretch">',EmbedVideoPlayerUtil.config.labelVideoLengthTxt+" "+formattedTime,"</span>"].join(""))};try{var formattedTime=EmbedVideoPlayerUtil.BrightCovePlayer.videoPlayer.getVideoDuration(true);appendVideoTime(formattedTime)}catch(e){EmbedVideoPlayerUtil.BrightCovePlayer.videoPlayer.getVideoDuration(true,function(formattedTime){appendVideoTime(formattedTime)})}$("#"+EmbedVideoPlayerUtil.config.wrapperId).on("transcriptReady",function(e,$transcript){var toggleTranscript=function(e){if($transcript.is(":animated")){return}var action=$(e.target).data("action");switch(action){case"hide":$transcript.removeClass("open");$transcript.stop().animate({opacity:0},300,function(){if(typeof(cmCreateManualLinkClickTag)===typeof(Function)){cmCreateManualLinkClickTag(document.URL,"hidetranscript",boaTagData.CoreMetrics.globals.pageID)}$(this).stop().slideUp()});break;case"toggle":$transcript.toggleClass("open");if($transcript.hasClass("open")){$transcript.stop().animate({opacity:1},300,function(){if(typeof(cmCreateManualLinkClickTag)===typeof(Function)){cmCreateManualLinkClickTag(document.URL,"opentranscript",boaTagData.CoreMetrics.globals.pageID)}$(this).stop().slideDown()})}else{$transcript.stop().animate({opacity:0},300,function(){if(typeof(cmCreateManualLinkClickTag)===typeof(Function)){cmCreateManualLinkClickTag(document.URL,"closetranscript",boaTagData.CoreMetrics.globals.pageID)}$(this).stop().slideUp()})}break}e.preventDefault()};$(".video-control-bar, .toggleTranscript, .hideTranscript, .hideTranscriptButton").remove();$transcript.find("h4").remove().end().find(".transcript-content").wrapInner('<p class="textStretch"></p>');$transcript.before(['<button class="toggleTranscript textStretch" data-action="toggle">'+EmbedVideoPlayerUtil.config.transcriptToggleBtnTxt+"</button>"].join("")).find(".transcript-inner").append(['<button class="hideTranscript textStretch" href="#toggleTranscript" data-action="hide">'+EmbedVideoPlayerUtil.config.transcriptHideBtnTxt+"</button>",'<a class="hideTranscriptButton" href="#toggleTranscript" data-action="hide"><span class="ada-hidden">Hide Transcript</span></a>']).find(".transcript-content").prepend('<h4><strong class="textStretch">'+EmbedVideoPlayerUtil.config.transcriptHeadingTxt+"</strong></h4>");$('[href="#toggleTranscript"], button.toggleTranscript').on("click",toggleTranscript)});if($mediaModule.next().hasClass("social-widget-module")){$mediaModule.next().appendTo(".mw-mm-vs")}})}}});mw.modules.articleContent={settings:{name:"mw-content-module-article-skin",target:".mw-cm-ars"},init:function(){if($("#show-button").length>0){var viewportHeight=$(window).height();var arcPosition=$("article-content").scrollTop();var visArcHeight=viewportHeight-arcPosition+100;$(".mw-cm-ars").css({height:visArcHeight,position:"relative",overflow:"hidden"});$(".gradient").css({bottom:0,position:"absolute"});$("#show-button").click(function(){$(".mw-cm-ars").css("height","auto");$(".gradient").hide();$("blockquote").removeClass("hide");$("#article-content").css({paddingBottom:"20px",marginBottom:0});if(typeof(cmCreateManualLinkClickTag)===typeof(Function)){cmCreateManualLinkClickTag(document.URL,"showfullarticle",boaTagData.CoreMetrics.globals.pageID)}});if($(this.settings.target).next().hasClass("social-widget-module")){$(this.settings.target).next().appendTo(this.settings.target)}}else{$(".mw-content-module-article-skin#article-content").css({"margin-bottom":"0"});$(".mw-cm-ars").css({"padding-bottom":"10px"})}}};$(document).on(mw.vars.moduleStartEvent,function(e){mw.modules.articleContent.init()});mw.modules.boaFootnote={$target:$('[data-module="mw-footnote-module"],[data-module="mw-footnote"]'),filters:{tab:{label:".tab-panel",active:"active"}},enabledBase:"footnote-",activeExtension:"-active",switchFootnote:function(obj){var $parent={},parentFilter="",activeClass="",generalClass="",enabledClass="";obj.$target.each(function(i){var $t=$(this);for(var f in obj.filters){activeClass=obj.filters[f].active;generalClass=obj.enabledBase+f;enabledClass=generalClass+obj.activeExtension;parentId=$t.attr("data-"+f);if(!!parentId){$parent=$(obj.filters[f].label).filter("#"+parentId).filter("."+activeClass);$t.filter("."+generalClass).removeClass(enabledClass);if($parent.length>0){$t.addClass(enabledClass)}}}});$(document).trigger("updatelayout")},init:function(){var obj=this;$("body").on("showhide.bofa",function(e){obj.switchFootnote(obj)});obj.switchFootnote(obj)}};$(document).on(mw.vars.moduleStartEvent,function(e){mw.modules.boaFootnote.init()});var distributeFootnotes=function(){var settings={},defaults={target:".mw-fnotem-ss.collective",contexts:{page:{parent:"",prefix:"footnote_",cssClass:"footnotes",label:"Page Footnote"},modal:{parent:'[data-context="modal"]',prefix:"modal_footnote_",cssClass:"footnotes footnotes-modal",label:"Modal Footnote"},reveal:{parent:'[data-module="mw-reveal"]',prefix:"reveal_footnote_",cssClass:"footnotes footnotes-reveal",label:"Reveal Footnote"}}},required={},$target=$(),$footnotes=$(),noteContexts=Array(),linkContexts=Array(),_initialize=function(opts){settings=$.extend({},defaults,opts,required);$target=$(settings.target)},_findReferences=function(){$footnotes=$(".footnote").data("distributed",0);$footnotes.each(function(i){var $note=$(this),id=$note.attr("id"),$references=$('a[href="#'+id+'"]');if($references.length==0){$footnotes=$footnotes.not($note)}else{$references.data("footnote",$note).attr("data-footnote",true)}})},_localizeFootnotes=function(type){for(c in settings.contexts){var $context=$(settings.contexts[c].parent).data("footnote-label",settings.contexts[c].label).data("footnote-prefix",settings.contexts[c].prefix).data("footnote-class",settings.contexts[c].cssClass);$context.each(function(i){var $local=$(this),localClass=$local.data("footnote-class"),$refs=$local.find("a[data-footnote]"),$notes=$();if($refs.length>0){$local.addClass("footnotes-localized");noteContexts.push($local);linkContexts.push($local);var $container=$local.find("."+localClass+"."+type);if($container.length==0){$container=$("<div/>").addClass(localClass).addClass(type+"s").appendTo($local)}$refs.filter(function(){return $(this).data("footnote").hasClass("type-"+type)}).each(function(){var $note=$(this).data("footnote");$note.data("distributed",$note.data("distributed")+1).addClass("distributed");if($container.find('.footnote[id="'+$note.attr("id")+'"]').length==0){$note.clone(true).appendTo($container)}})}})}$footnotes.each(function(){var $note=$(this);if($note.data("distributed")==0){$(".footnote:last",$target).after($note)}});$(".footnote.distributed",$target).remove();noteContexts.push($target);linkContexts.push($("html"));$target.data("footnote-label",settings.contexts.page.label).data("footnote-prefix",settings.contexts.page.prefix).addClass(settings.contexts.page.cssClass)},_reorderFootnotes=function(type){if(typeof type=="undefined"||type==""){type="default"}for(var i=0;i<noteContexts.length;i++){var $notes=$(noteContexts[i]).find("."+type+"s").find(".footnote"),setClass="note-set";$notes.each(function(iterator){var newNumber=iterator+1,newID=noteContexts[i].data("footnote-prefix")+type+"_"+i+"_"+newNumber,$note=$(this),$noteNumber=$note.find(".fn-num"),$noteText=$note.find(".fn-text"),id=$note.attr("id"),$links=$("a[href=#"+id+"]",linkContexts[i]),linkHTML='<sup><span class="ada-hidden">'+noteContexts[i].data("footnote-label")+" </span>"+(type=="default"?newNumber:"*")+"</sup>";$note.attr("id",newID);$noteNumber.html(type=="default"?newNumber+".":"*&nbsp;");$noteText.html($noteText.html().replace(/\*/,""));$links.attr("href","#"+newID).addClass(setClass).addClass("footnote-link-"+type).html(linkHTML).off("click").on("click",function(e){e.preventDefault();var $a=$(this),target=$a.attr("href"),$target=$(target,".ui-content.reveal"),top=Math.round($target.offset().top,2),$fixed=$("#page.bya").find("*").filter(function(){return $(this).css("position")==="fixed"}).filter(":visible"),fixedHeight=0,adjustment=0,zoom=parseFloat($("body").css("zoom")),scrollTop=0,zoomTop=0,animationType="scrollTop";$.each($fixed,function(i){fixedHeight+=$(this).outerHeight()});fixedHeight=fixedHeight*zoom;switch(true){case ($("html").not(".os-ios").length>0):adjustment=$a.hasClass("footnote-link-disclaimer")?20:0;animationType="windowScroll";break}scrollTop=(top-fixedHeight-adjustment)*zoom;if(animationType=="windowScroll"){window.scrollTo(0,scrollTop)}else{$("body").animate({scrollTop:scrollTop},250)}})})}},_filterNotes=function(types){$(".footnote").each(function(i){var $note=$(this),$text=$note.find(".fn-text"),text=$text.text();switch(true){case (text.charAt(0)=="*"):$note.addClass("type-disclaimer");break;default:$note.addClass("type-default");break}})};$.fn.cleanSuperscripts=function(){$("sup > a > sup",this).each(function(){$(this).parent("a").parent("sup").each(function(){$(this).find("> a").insertBefore(this);$(this).remove()})});return this};return{init:function(options){_initialize(options);_filterNotes();_findReferences();_localizeFootnotes("disclaimer");_localizeFootnotes("default");_reorderFootnotes("default");_reorderFootnotes("disclaimer");$("html").cleanSuperscripts();$target.removeClass("collective")}}}();$(document).ready(function(){distributeFootnotes.init()});var _gaq=_gaq||[],vs_account_id="";var boaTag=function(options){var data={DART:{globals:{},bound:{attr:"data-dart",event:"click"},classes:{click:"tag-click-dart",load:"tag-load-dart"},events:{click:"",load:""}},CoreMetrics:{globals:{},bound:{attr:"data-core",event:"load"},classes:{click:"tag-click-core",load:"tag-load-core",modal:"tag-modal-core",reveal:"tag-reveal-core"},events:{click:"",load:"default",modal:"",reveal:""}},GoogleAnalytics:{globals:{source:".google-analytics.com/ga.js",domain:"bankofamerica.com",account:"UA-24552991-7"},bound:{attr:"data-ga",event:"load"},classes:{load:"tag-load-ga"},events:{load:"default"}},Marchex:{globals:{source:"//adtrack.voicestar.com/euinc/number-changer.js"},bound:{attr:"data-mx",event:"load"},classes:{load:"tag-load-mx"},events:{load:"default"}},TestAndTarget:{globals:{},bound:{attr:"data-mbox",event:"load"},classes:{click:"tag-click-mbox",load:"tag-load-mbox"},events:{click:"",load:""}}},scope="boaTag",getLibraryNames=function(specific){var arr=new Array();for(library in data){if(typeof specific!="string"||specific==""||specific=="all"){arr.push(library)}else{if(specific==library){arr.push(library)}}}return arr},eventHandler=function(e){var value=e.data.value,action=e.data.action,library=e.data.library,$target=$(e.target);switch(action){case"click_DART":vendors.DART.fireOnClick(value,$target,e);break;case"load_DART":vendors.DART.fireOnLoad(value,$target,e);break;case"click_Coremetrics":vendors.CoreMetrics.fireOnClick(value,$target,e);break;case"load_CoreMetrics":vendors.CoreMetrics.fireOnLoad(library,e);break;case"modal_CoreMetrics":vendors.CoreMetrics.fireOnModal(library,$target,e);break;case"reveal_CoreMetrics":vendors.CoreMetrics.fireOnReveal(library,$target,e);break;case"load_GoogleAnalytics":vendors.GoogleAnalytics.fireOnLoad(library);break}},bindSingle=function(params){var library=params.library,action=params.action,id=params.id,bindClass=params.css,bindValue=!!params.value?params.value:data[library].events[action][id],bindEvent=action+"."+scope+library,bindFunction=action+"_"+library,bindId=(id=="page")?"tagging":id,bindId=!id?"html":"#"+id+',a[name="'+id+'"]';return $(bindId).filter(":first").not("."+bindClass).addClass(bindClass).on(bindEvent,{action:bindFunction,value:bindValue,library:data[library]},eventHandler)},gatherAttributeData=function(){var attr="",action="click",value="",id="";for(library in data){attr=data[library].bound.attr;action=data[library].bound.event;$("["+attr+"]").each(function(i){value=$(this).attr(attr);$(this).attr("id",value);bindSingle({id:value,css:data[library].classes[action],action:action,library:library,value:value})})}},triggerLoad=function(){for(library in data){for(e in data[library].events){if(e=="load"){var loaded=data[library].classes[e]+"-loaded";$("."+data[library].classes[e]).not("."+loaded).trigger("load").addClass(loaded)}}}$(window).trigger("initialized.tagging")},mboxMarkerCheck=function(){$.each(boaTagData.TestAndTarget.events.load,function(key,value){if(key!=""){if($("div#"+key).length==0){$("body").prepend('<div id="'+key+'" class="mboxDefault"></div>')}}})},mboxReadyEvent=mw.vars.thirdPartyComplete,mboxTargetClass="mbox-target",mboxWaitTime=2000,mboxWaitClass="mbox-target-wait",mboxWaitOverlayClass="mw-tagging-module-spinner",mboxAddWait=function(){$("."+mboxTargetClass).each(function(){var $t=$(this),$spin=$('<div class="'+mboxWaitOverlayClass+'"></div>'),height=$t.height(),width=$t.width();$t.prepend($spin).addClass(mboxWaitClass)})},mboxRemoveWait=function(){$("."+mboxTargetClass).each(function(){var $t=$(this),removeClass=function($item){$item.removeClass(mboxWaitClass).removeClass(mboxTargetClass)},$overlay=$t.find("."+mboxWaitOverlayClass);if($overlay.length>0){$overlay.animate({opacity:0},500,function(){$(this).remove();removeClass($t)})}else{removeClass($t)}})},mboxKillTimeout=function(){$(document).trigger(mboxReadyEvent)},mboxSetTimeout=function(){var $targets=$("."+mboxTargetClass),mboxTimer=setTimeout(function(){$(document).trigger(mboxReadyEvent)},mboxWaitTime);mboxAddWait();$(document).on(mboxReadyEvent,function(e){clearTimeout(mboxTimer);mboxRemoveWait()})},gaCountNumber=0,cmCountNumber=0,mxCountNumber=0;var vendors={DART:{fireOnLoad:function(data,$target,event){data=$.trim(" "+data);if(data=="default"||data=="none"||data==""){return}data+="ord=1;num=";this.fire(data,$target,event)},fireOnClick:function(data,$target,event){data+="ord=";this.fire(data,$target,event)},fire:function(data,$target,event){if(typeof jQuery!="function"){return}var $container=$("body"),random=Math.floor(Math.random()*999999),url="https://fls.doubleclick.net/activityi;"+data+random+"?",divId="DART_OC_CONT",$div=$("#"+divId),frameId="DART_OC_IFRAME_"+random,$frame=$("<iframe/>").attr("id",frameId).attr("src",url);if($div.length==0){$div=$("<div/>").attr("id",divId).css({display:"none"}).appendTo($container)}$div.append($frame)}},CoreMetrics:{fireOnLoad:function(library,event){cmCountNumber++;if(cmCountNumber==1){var g=library.globals,cmAdLink=null,cmPageId=g.pageID,cmPageCategory=g.categoryID,fireProductView=function(product){setTimeout(function(){cmCreateProductviewTag(product.id,product.name,product.category,null,false,false,null,false,null,null,false,null)},20)};function checkAttrib(element){if(element){return element}else{return null}}var cmAttrib=checkAttrib(g.attrib);var cmAdlob=checkAttrib(g.adlob);if(typeof cmCreateProductviewTag!="undefined"){if(g.product){fireProductView(g.product)}for(p in g.products){fireProductView(g.products[p])}}if(typeof cmCreatePageviewTag!="undefined"){setTimeout(function(){cmCreatePageviewTag(cmPageId,null,null,cmPageCategory,false,false,null,false,false,cmAdLink,null,cmAdlob,null,null,null,null,null,cmAttrib,null,null,null);return},10)}if(document.readyState==="complete"){if(typeof cY!="undefined"){setTimeout(cY,30)}}this.fireOnReveal(library,$(".revealing"),event)}},fireOnModal:function(library,$target,event){var id=$target.prop("id"),modal=$target.attr("href"),$modal=$(modal),currentPage=cG7.cM0[cm_ClientID];if(typeof library.events!="object"||typeof library.events.modal!="object"||typeof library.events.modal[id]!="object"){return}var m=library.events.modal[id],cmAdLink=null,cmPageId=m.pageID,cmPageCategory=m.categoryID,storeOriginalPageID=function(){if(typeof cG7!="object"||typeof cG7.cM0!="object"||typeof cm_ClientID!="string"){return}$(".reveal-close:visible").one("click",function(e){cG7.cM0[cm_ClientID]=currentPage;cmCountNumber=0;vendors.CoreMetrics.fireOnLoad(library,e)})},fireProductView=function(product){setTimeout(function(){cmCreateProductviewTag(product.id,product.name,product.category,null,false,false,null,false,null,null,false,null)},20)};if(typeof cmCreateProductviewTag!="undefined"){if(m.product){fireProductView(g.product)}for(p in m.products){fireProductView(m.products[p])}}if(typeof cmCreatePageviewTag!="undefined"){storeOriginalPageID();setTimeout(function(){cmCreatePageviewTag(cmPageId,null,null,cmPageCategory,false,false,null,false,false,cmAdLink,null,null,null,null,null,null,null,null,null,null,null);return},10)}if(document.readyState==="complete"){if(typeof cY!="undefined"){setTimeout(cY,30)}}},fireOnReveal:function(library,$target,event){if(typeof library!="object"||typeof library.globals!="object"||typeof $target!="object"){return}var g=library.globals,cmPageId=g.pageID,targetType=(""+$target.prop("tagName")).toLowerCase(),$a=(targetType=="a")?$target:$target.find("a:first"),tag=$a.getParameterFromAnchor("cm_sp");$(document).on(mw.vars.thirdPartyComplete).promise().done(function(){if(typeof cmCreateImpressionTag!="undefined"&&$a.get(0)&&tag!=""){cmCreateImpressionTag(cmPageId,tag);$target.off("reveal")}})},fireOnClick:function(data,$target,event,page){cmCreateManualLinkClickTag($target.attr("href"),data,page)}},GoogleAnalytics:{fireOnLoad:function(library){gaCountNumber++;if(gaCountNumber==1){_gaq.push(["_setAccount",library.globals.account]);_gaq.push(["_setDomainName",library.globals.domain]);_gaq.push(["_trackPageview"]);(function(){var ga=document.createElement("script");ga.type="text/javascript";ga.async=true;ga.src=("https:"==document.location.protocol?"https://ssl":"http://www")+library.globals.source;var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(ga,s)})()}}},Marchex:{fireOnLoad:function(library,event){mxCountNumber++;if(mxCountNumber==1){var getUrlVars=function(){var vars={};var parts=window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(m,key,value){vars[key]=value});return vars};vs_account_id=getUrlVars()["vsaccountid"];$.ajax({url:library.globals.source,dataType:"script",cache:true}).done(function(script,textStatus){mwlog("Marchex loaded: ",textStatus)}).fail(function(jqxhr,settings,exception){mwlog("Marchex failed to load: ",exception)})}}},TestAndTarget:{fireOnLoad:function(library,$mboxTarget,event){if(typeof library!="object"||typeof library.events!="object"||typeof library.events.load!="object"){return}if($(".mboxDefault").length>0){return}var mboxParams=[],deviceOS=mw.functions.getCurrentDeviceOS({filter:"os"}),modalDisplayed=!!$.cookie?$.cookie("bofa-mobile-interstitial"):"unknown";if(library.profile.param){$.each(library.profile.param,function(key,value){switch(key){case"showOverlay":mboxParams.push(key+"="+modalDisplayed);break;case"device":mboxParams.push(key+"="+deviceOS.replace(" ","_"));break;default:mboxParams.push(key+"="+value)}})}var loadMbox=function(e){var path=library.sourceUrl?library.sourceUrl:"https://www.bankofamerica.com/pa/global-assets/1.0/script/mbox.js";$.getScript(path,function(data,status,jqxhr){$(document).trigger(e)})},getMboxName=function(id,group){if(typeof mwTestMobileAgent!="function"){return""}for(item in group){var filter=group[item].filter,test="",value="";if(!!filter){switch(true){case (filter.match(/^os:/)[0].length>0):test=filter.replace(/^os:/,"");value=group[item].value;break}}else{value=group[item].value}if(value!=""){break}}if(value==""){$("#"+id).removeClass("mboxDefault")}return value};var mboxID=$mboxTarget.attr("id"),mboxName=getMboxName(mboxID,library.events.load[mboxID]),loadEvent="mboxLoad."+mboxID;if(mboxName!=""||true){$(document).on(loadEvent,function(){if(mboxParams.length==1){mboxDefine(mboxID,mboxName,mboxParams[0]);mboxUpdate(mboxName,mboxParams[0])}if(mboxParams.length==2){mboxDefine(mboxID,mboxName,mboxParams[0],mboxParams[1]);mboxUpdate(mboxName,mboxParams[0],mboxParams[1])}if(mboxParams.length==3){mboxDefine(mboxID,mboxName,mboxParams[0],mboxParams[1],mboxParams[2]);mboxUpdate(mboxName,mboxParams[0],mboxParams[1],mboxParams[2])}if(mboxParams.length==4){mboxDefine(mboxID,mboxName,mboxParams[0],mboxParams[1],mboxParams[2],mboxParams[3]);mboxUpdate(mboxName,mboxParams[0],mboxParams[1],mboxParams[2],mboxParams[3])}if(mboxParams.length==5){mboxDefine(mboxID,mboxName,mboxParams[0],mboxParams[1],mboxParams[2],mboxParams[3],mboxParams[4]);mboxUpdate(mboxName,mboxParams[0],mboxParams[1],mboxParams[2],mboxParams[3],mboxParams[4])}});if(typeof mbox=="function"){$(document).trigger(loadEvent)}else{loadMbox(loadEvent)}}return false},fireOnClick:function(){}}};return{initialize:function(){if(typeof boaTagData!="object"){return}if(typeof mwLoadData=="object"&&mwLoadData!=null&&typeof mwLoadData["Tagging Bundle"]=="object"){return}data=$.extend(true,{},data,boaTagData);mboxMarkerCheck();gatherAttributeData();this.bind();triggerLoad()},bind:function(library){var libraries=getLibraryNames(library),currentLibrary={},currentLibraryName="",bindClass="",$target={},bindValue="",bindEvent="",bindFunction,bindType;for(var i=0;i<libraries.length;i++){currentLibraryName=libraries[i];currentLibrary=data[libraries[i]];var boundClass="tagging-bound-"+currentLibraryName.toLowerCase();if($("html").hasClass(boundClass)){continue}$("html").addClass(boundClass);for(genericEvent in currentLibrary.events){bindClass=currentLibrary.classes[genericEvent];bindType=currentLibrary.events[genericEvent];if(typeof bindType=="string"){switch(bindType){case"default":bindSingle({css:bindClass,action:genericEvent,library:currentLibraryName});break}}else{for(bindId in currentLibrary.events[genericEvent]){bindSingle({id:bindId,css:bindClass,action:genericEvent,library:currentLibraryName})}}}}},unbind:function(library){var libraries=getLibraryNames(library),currentLibrary={},currentLibraryName="",bindClass="";for(var i=0;i<libraries.length;i++){currentLibraryName=libraries[i];currentLibrary=data[currentLibraryName];for(genericEvent in currentLibrary.events){bindClass=currentLibrary.classes[genericEvent];for(bindId in currentLibrary.events[genericEvent]){bindEvent=genericEvent+"."+scope+currentLibraryName;$("#"+bindId).removeClass(bindClass).off(bindEvent)}}}},update:function(library,content){var libraries=getLibraryNames(library),currentLibrary={},currentLibraryName="";bindClass="";for(var i=0;i<libraries.length;i++){currentLibraryName=libraries[i];currentLibrary=data[currentLibraryName];this.unbind(currentLibraryName);data[currentLibraryName]=$.extend({},currentLibrary,content);this.bind(currentLibraryName)}},mboxSetup:function(){mboxSetTimeout()},mboxReady:function(){mboxKillTimeout()}}}();$(document).on(mw.vars.moduleStartEvent,function(e){boaTag.initialize()});boaTag.mboxSetup();$(function(){var carousel=$("section.mw-em-h1s").find("div.bounce");carousel.carousel({usePager:false})});mw.modules.contentFullWidth={settings:{name:"mw-content-module-full-width-skin",target:".mw-cm-fws",$target:{},classes:{hover:"hoverBlue",click:"hitBlue",hit:"hitBlue"}},init:function(settings){this.settings=$.extend({},this.settings,settings);var self=this,s=self.settings;$.fn.addToggle=function(type,version,text,id){var visual=action="";switch(version){case"plus":visual="+";action="open";break;case"minus":visual="-";action="close";break}var $a=$('<a href="#" class="toggle toggle-'+type+" "+version+'">'+visual+'<span class="ada-hidden">'+text+"</span></a>").attr("id",id+"-"+type+"-"+action);return $(this).append($a)};s.$target=$(s.target);mwlog(s.name,"init","start");$(".faq",s.target).find(".collapse-toggle").each(function(i){var $t=$(this),$faq=$t.parents(".faq"),id=$faq.attr("id");$t.addToggle("text","plus","Expand current FAQ",id).addToggle("text","minus","Contract current FAQ",id).addToggle("icon","plus","Expand current FAQ",id).addToggle("icon","minus","Contract current FAQ",id);$t.hover(function(e){$t.addClass(s.classes.hover)},function(e){$t.removeClass(s.classes.hover)}).on("vmousedown vmouseup",function(e){$t.toggleClass(s.classes.hit)})});$(".faq",s.target).find(".collapse-hidden").setFirstLastCount({node:"h4",label:"head"});mwlog(s.name,"init","end")}};$(document).on(mw.vars.moduleStartEvent,function(e){mw.modules.contentFullWidth.init()});mw.modules.LinksListTabs={settings:{target:".mw-llm-tbs"},init:function(settings){mwlog("mw-links-list","init","start");this.settings=$.extend({},this.settings,settings);var self=this,s=self.settings,$tabset=$(s.target),$panels=$(".tab-panel");$.each($tabset.filter(".width-natural"),function(i){var $ul=$(this).find("ul"),$li=$ul.find("> li"),$a=$ul.find("> li > a"),$ulClone=$ul.clone(true).addClass("clone").appendTo($ul.parent()),$liClone=$ulClone.find("> li"),$aClone=$ulClone.find("> li > a"),anchorCount=$a.length,textWidth=0,paddingAdjustment=60,currentPercent=0,remainingPercent=100;$aClone.each(function(i){textWidth+=$(this).outerWidth()+paddingAdjustment});$aClone.each(function(i){currentPercent=Math.round(100*($(this).outerWidth()+paddingAdjustment)/textWidth);currentPercent=(remainingPercent-currentPercent>3)?currentPercent:remainingPercent;remainingPercent-=currentPercent;$($li[i]).css({width:currentPercent+"%"})});$aClone.remove()});$.each($tabset,function(i){var $set=$(this),tabgroup=$set.data("tab-group"),$content=typeof tabgroup=="string"?$panels.filter('[data-tab-group="'+tabgroup+'"]'):$panels.not("[data-tab-group]");$("a",$set).on("click",function(e){e.stopPropagation();e.preventDefault();var $a=$(this),href=$a.attr("href");$content.removeClass("active");$(href).addClass("active");$("body").trigger("showhide.bofa").trigger("showhide.tabs");$("a",$set).each(function(){$(this).parent().removeClass("active");if($(this).attr("href")==href){$(this).parent().addClass("active")}});return false})});var hash=window.location.hash.replace("#","");if(!hash||!$("#"+hash).is(".tab-panel")){$($(".mw-llm-tbs .nav-tabs li.active a").attr("href")).addClass("active")}else{$("a."+hash).trigger("click")}$('a[href^="#"]',$tabset).each(function(i){var $target=$(this),href=$target.attr("href"),$source=$('a[href="'+href+'"]').not($target);$source.on("click",function(e){e.preventDefault();$("html, body").stop();$("body").animate({scrollTop:0},{duration:400,complete:function(){if(!$target.parent().is(".active")){$target.trigger("click")}}})})});mwlog("mw-links-list","init","end")}};$(document).on(mw.vars.moduleStartEvent,function(e){mw.modules.LinksListTabs.init()});var researchOptions=function(){var defaults={target:"html",targets:{"Research Options":{label:"rom",family:".rom-container",item:"> li",action:"> h3 a",toggle:"> .section",speed:300}},scroll:{css:"scrolled",speed:600,remove:8000}},required={$target:$(),classes:{family:"toggle-container",container:"toggle-item",action:"toggle-action",toggle:"toggle-target",toggling:"toggling",toggled:"toggled",clone:"toggle-clone",opening:"toggle-opening",closing:"toggle-closing",exclusive:"toggle-one",template:"template"},data:{component:"",module:"",skin:""}},settings={},_contextualize=function(){var context="";if(settings.$target.data("component")=="module"){context+=settings.$target.data("module")+"-";if(settings.$target.data("component")){context+=settings.$target.data("skin")+"-"}}$("a[id]",settings.target).each(function(){$(this).attr("id",context+$(this).attr("id"))})},_layerClasses=function(){var targets=settings.targets,classes=settings.classes;for(t in targets){var $family=$(targets[t].family),speed=$family.data("toggle-speed");$family.addClass(classes.family).find(targets[t].item).not("."+classes.template).addClass(classes.container).data("toggle-speed",typeof speed=="number"?speed:targets[t].speed).each(function(i){$(this).addClass(classes.container).find(targets[t].action).addClass(classes.action).end().find(targets[t].toggle).addClass(classes.toggle).end()})}},_activateToggle=function(){$("."+settings.classes.action).each(function(i){var $link=$(this),id=$link.attr("id"),$toggle=$($link.attr("href")),$parent=$toggle.closest("."+settings.classes.container),$others=$("."+settings.classes.container,settings.target).not($parent),$family=$parent.parents("."+settings.classes.family),idShow=id.replace("showhide","show"),idHide=id.replace("showhide","hide");$link.attr("id",$parent.hasClass(settings.classes.toggled)?idHide:idShow).bind("click close",function(e){e.preventDefault();if((e.type!="close")){if($family.hasClass(settings.classes.exclusive)&&!$parent.hasClass(settings.classes.toggled)){var namespace=e.namespace;$others.filter("."+settings.classes.toggled).find("a."+settings.classes.action+":first").trigger("close")}}if($toggle.is(":animated")){return}var height=0,borderTop=0,borderBottom=0,transitionClass=settings.classes.closing,toggled=$parent.hasClass(settings.classes.toggled);if(!toggled){var $clone=$toggle.clone(true).addClass(settings.classes.clone).insertAfter($toggle),transitionClass=settings.classes.opening;height=$clone.height();$clone.remove()}$parent.addClass(transitionClass).addClass(settings.classes.toggling);(transitionClass==settings.classes.opening)?$parent.addClass(settings.classes.toggled):$parent.removeClass(settings.classes.toggled);$link.attr("id",toggled?idHide:idShow);$toggle.animate({height:height},$parent.data("toggle-speed"),function(){$parent.removeClass(transitionClass).removeClass(settings.classes.toggling).trigger("toggle-complete");$(this).removeAttr("style").attr("id",id)})})})},_initialize=function(options){settings=$.extend(true,{},defaults,options,required);settings.$target=$(settings.target);for(data in settings.data){if(settings.$target.data(data)){settings.data[data]=settings.$target.data(data)}}},_setupGlobal=function(){_contextualize();_layerClasses()};return{init:function(options){_initialize(options);if(settings.$target.length==0){return}_setupGlobal()}}}();$(document).ready(function(){researchOptions.init({target:".rom-ss"})});mw.modules.header={settings:{target:".mw-hm-sis,.mw-hm-ls,.mw-hm-ss",topClass:"position-top"},init:function(settings){mwlog("mw-header","init","start");this.settings=$.extend({},this.settings,settings);var self=this,s=self.settings,$header=$(s.target);if($header.length<=0){return}$header.toolbar({fullscreen:true,tapToggle:false,tapToggleBlacklist:"a,button,input,select,textarea,.ui-header-fixed,.ui-footer-fixed",updatePagePadding:true});var headerPosition=function(){var get=function(){return Math.floor($header.position().top/$("body").css("zoom"))},getStored=function(){return $header.data("top")};return{set:function(){return $header.data("top",get())},check:function(){if(get()>=getStored()){$header.addClass(s.topClass)}else{$header.removeClass(s.topClass)}}}}();$(document).on("ready scroll",headerPosition.check);$(window).on("resize orientationchange",headerPosition.check);headerPosition.set();headerPosition.check();mwlog("mw-header","init","end")}};$(document).on(mw.vars.moduleStartEvent,function(e){mw.modules.header.init()});mw.modules.message=function(){var settings={target:".mw-message-module-standard-skin",$target:{},duration:500};var getHeight=function(item){var $item=$(item),$clone=$item.clone(true).addClass("setup").insertAfter($item),height=$clone.outerHeight();$clone.remove();return height};return{init:function(options){settings=$.extend(true,{},settings,options);settings.$target=$(settings.target);var module=this,$t=settings.$target;$t.find(".close").on("click",function(e){e.preventDefault();module.contract()}).end().animate({marginLeft:0},{duration:500,complete:function(){module.expand()}})},expand:function(){var $t=settings.$target;if(!$t.data("height")){$t.data("height",getHeight($t))}$t.css({opacity:0.67,marginTop:(0-$t.data("height"))}).addClass("open").animate({opacity:1,marginTop:0},{duration:settings.duration,complete:function(){$t.removeAttr("style")}})},contract:function(){var $t=settings.$target;if(!$t.data("height")){$t.data("height",getHeight($t))}$t.animate({opacity:0.67,marginTop:(0-$t.data("height"))},{duration:settings.duration,complete:function(){$t.removeClass("open").removeAttr("style")}})}}}();$(document).on(mw.vars.moduleStartEvent,function(e){mw.modules.message.init()});mw.modules.mwDockedC2A={settings:{target:".mw-fm-ss",optout:{cookie:{name:"throttle_value",value:999,amount:2,unit:"year"}}},_setToggle:function($container){var classAction="toggle",classTarget="toggleable",classReady="toggleSet";classComplete="toggled",positionToggle=function($target){var height=$target.height();return $target.css({height:height}).addClass(classReady)};$container.find("."+classAction).each(function(){var $action=$(this),$target=$($action.attr("href")),height=$target.height();positionToggle($target);$action.on("click",function(e){e.preventDefault();if($target.hasClass(classComplete)){$target.animate({top:height},500,function(){$target.removeClass(classComplete)})}else{positionToggle($target)}})})},init:function(settings){mwlog("mw-docked-c2a","init","start");this.settings=$.extend({},this.settings,settings);var self=this,s=self.settings,$dock=$(s.target);this._setToggle($dock);$("#sitead-optout-submit").on("click",function(e){e.preventDefault();if($&&$.cookie){var cookie=s.optout.cookie.name,value=s.optout.cookie.value,amount=s.optout.cookie.amount,unit=s.optout.cookie.unit;date=mw.utils.getFutureDate(amount,unit);$.cookie(cookie,value,{path:"/",domain:".bankofamerica.com",expires:date})}window.location.href=$(this).attr("href");return true});mwlog("mw-docked-c2a","init","end")}};$(document).on(mw.vars.moduleStartEvent,function(e){mw.modules.mwDockedC2A.init()});$(document).ready(function(){var ol=$(".mw-service-agreement-module").find(".cat-list > li > ol"),sectionIntro=$(".mw-service-agreement-module").find(".section-intro");ol.toggle();sectionIntro.toggle();$(".mw-service-agreement-module .topic-toggle").click(function(){var currentHTML=$(".topic-toggle").html();if(currentHTML=="Show all Topics"){$(".topic-toggle").html("Hide all Topics");ol.show();sectionIntro.show()}else{$(".topic-toggle").html("Show all Topics");ol.hide();sectionIntro.hide()}});$(".mw-service-agreement-module .category-link").click(function(){var _this=$(this);var adaString=_this.children(".ada-hidden").html();if(adaString=="Show Topics for"){_this.children(".ada-hidden").html("Hide Topics for")}else{_this.children(".ada-hidden").html("Show Topics for")}$(this).next(".section-intro").toggle().next(".cat-list > li > ol").toggle()});$(".mw-service-agreement-module ol.cat-list li > a").each(function(){var newString=replaceAlphaNum($(this).html());$(this).html(newString)});function replaceAlphaNum(string){var myRegex=/[0-9A-Za-z]+\.\s/;return string.replace(myRegex,"")}});var defaultTab="Tab1";$(document).ready(function(){$(".tab-btn[data-tab='"+defaultTab+"']").addClass("selected");$("#"+defaultTab).addClass("selected-tab");$(".tab-btn").click(function(e){e.preventDefault();var selectedTab=$(this).attr("data-tab");if(!$(this).hasClass("selected-tab")){$(".tab").removeClass("selected-tab");$(".tab-btn").removeClass("selected");$("#"+selectedTab).addClass("selected-tab");$(".tab-btn[data-tab='"+selectedTab+"']").addClass("selected")}if(typeof cmCreatePageviewTag!="undefined"){setTimeout(function(){cmCreatePageviewTag(window["cm"+selectedTab+"PageId"],null,null,window["cm"+selectedTab+"PageCategory"],false,false,null,false,false,cmModuleAdLink,null,cmModuleAdlob,null,null,null,null,null,cmModuleAttrib,null,null,null);return},10)}})});